{"abi":[{"type":"constructor","inputs":[{"name":"_owner","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"afterBalanceUpdate","inputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"authority","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract Authority"}],"stateMutability":"view"},{"type":"function","name":"beforeBalanceUpdate","inputs":[{"name":"currentPPS","type":"uint256","internalType":"uint256"},{"name":"totalSupply","type":"uint256","internalType":"uint256"},{"name":"idleAssets","type":"uint256","internalType":"uint256"},{"name":"newAggregatedBalance","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"shouldContinue","type":"bool","internalType":"bool"},{"name":"newPPS","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxPercentageChange","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setAuthority","inputs":[{"name":"newAuthority","type":"address","internalType":"contract Authority"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateMaxPercentageChange","inputs":[{"name":"newThreshold","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AuthorityUpdated","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"newAuthority","type":"address","indexed":true,"internalType":"contract Authority"}],"anonymous":false},{"type":"event","name":"MaxPercentageUpdated","inputs":[{"name":"oldMax","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newMax","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"InvalidMaxPercentage","inputs":[]}],"bytecode":{"object":"0x608060405234801561000f575f5ffd5b506040516108d03803806108d083398101604081905261002e916100cb565b5f80546001600160a01b0383166001600160a01b031991821681178355600180549092169091556040518392919033907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908490a36040516001600160a01b0382169033907fa3396fd7f6e0a21b50e5089d2da70d5ac0a3bbbd1f617a93f134b76389980198905f90a35050662386f26fc10000600255506100f8565b5f602082840312156100db575f5ffd5b81516001600160a01b03811681146100f1575f5ffd5b9392505050565b6107cb806101055f395ff3fe608060405234801561000f575f5ffd5b5060043610610085575f3560e01c8063bf7e214f11610058578063bf7e214f1461010a578063cfa40aed1461011d578063f2fde38b14610134578063fcbde38914610147575f5ffd5b80631faab223146100895780637a9e5e4b146100b85780638da5cb5b146100cd57806395c5eaf5146100f7575b5f5ffd5b61009c61009736600461066f565b61015a565b6040805192151583526020830191909152015b60405180910390f35b6100cb6100c63660046106b5565b6101b8565b005b5f546100df906001600160a01b031681565b6040516001600160a01b0390911681526020016100af565b6100cb6101053660046106d0565b6102ac565b6001546100df906001600160a01b031681565b61012660025481565b6040519081526020016100af565b6100cb6101423660046106b5565b610383565b6100cb6101553660046106e7565b505050565b5f80806101678486610724565b9050855f0361018457670de0b6b3a76400009150600192506101ae565b61019881670de0b6b3a7640000885f61042a565b91505f6101a58884610475565b60025410159350505b5094509492505050565b5f546001600160a01b031633148061024c575060015460405163b700961360e01b81523360048201523060248201525f356001600160e01b03191660448201526001600160a01b039091169063b700961390606401602060405180830381865afa158015610228573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061024c9190610737565b610254575f5ffd5b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03831690811790915560405133907fa3396fd7f6e0a21b50e5089d2da70d5ac0a3bbbd1f617a93f134b76389980198905f90a350565b6102c1335f356001600160e01b0319166104c6565b6103015760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064015b60405180910390fd5b67016345785d8a00008110610342576040517f5aede91d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60025460408051918252602082018390527f5b1f8430a1675242d4a0bdb976ee1c8740d114671db54660aba42fb46293e5dd910160405180910390a1600255565b610398335f356001600160e01b0319166104c6565b6103d35760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064016102f8565b5f805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081178255604051909133917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b5f6104576104378361057b565b801561045257505f848061044d5761044d610756565b868809115b151590565b6104628686866105a7565b61046c9190610724565b95945050505050565b5f825f0361048457505f6104c0565b5f83831161049b57610496838561076a565b6104a5565b6104a5848461076a565b90506104bc81670de0b6b3a764000086600161042a565b9150505b92915050565b6001545f906001600160a01b0316801580159061055c575060405163b700961360e01b81526001600160a01b0385811660048301523060248301526001600160e01b03198516604483015282169063b700961390606401602060405180830381865afa158015610538573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061055c9190610737565b806104bc57505f546001600160a01b0385811691161491505092915050565b5f60028260038111156105905761059061077d565b61059a9190610791565b60ff166001149050919050565b5f838302815f1985870982811083820303915050805f036105db578382816105d1576105d1610756565b0492505050610657565b8084116105f2576105f2600385150260111861065e565b5f848688095f868103871696879004966002600389028118808a02820302808a02820302808a02820302808a02820302808a02820302808a02909103029181900381900460010186841190950394909402919094039290920491909117919091029150505b9392505050565b634e487b715f52806020526024601cfd5b5f5f5f5f60808587031215610682575f5ffd5b5050823594602084013594506040840135936060013592509050565b6001600160a01b03811681146106b2575f5ffd5b50565b5f602082840312156106c5575f5ffd5b81356106578161069e565b5f602082840312156106e0575f5ffd5b5035919050565b5f5f5f606084860312156106f9575f5ffd5b505081359360208301359350604090920135919050565b634e487b7160e01b5f52601160045260245ffd5b808201808211156104c0576104c0610710565b5f60208284031215610747575f5ffd5b81518015158114610657575f5ffd5b634e487b7160e01b5f52601260045260245ffd5b818103818111156104c0576104c0610710565b634e487b7160e01b5f52602160045260245ffd5b5f60ff8316806107af57634e487b7160e01b5f52601260045260245ffd5b8060ff8416069150509291505056fea164736f6c634300081c000a","sourceMap":"488:2314:45:-:0;;;792:121;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;851:1;682:14:38;;-1:-1:-1;;;;;682:14:38;;-1:-1:-1;;;;;;682:14:38;;;;;;;;706:22;;;;;;;;744:40;;825:6:45;;851:1;682:14:38;765:10;;744:40;;851:1:45;;744:40:38;799;;-1:-1:-1;;;;;799:40:38;;;816:10;;799:40;;;;;-1:-1:-1;;888:4:45::1;866:19;:26:::0;-1:-1:-1;488:2314:45;;14:290:51;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:51;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:51:o;:::-;488:2314:45;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610085575f3560e01c8063bf7e214f11610058578063bf7e214f1461010a578063cfa40aed1461011d578063f2fde38b14610134578063fcbde38914610147575f5ffd5b80631faab223146100895780637a9e5e4b146100b85780638da5cb5b146100cd57806395c5eaf5146100f7575b5f5ffd5b61009c61009736600461066f565b61015a565b6040805192151583526020830191909152015b60405180910390f35b6100cb6100c63660046106b5565b6101b8565b005b5f546100df906001600160a01b031681565b6040516001600160a01b0390911681526020016100af565b6100cb6101053660046106d0565b6102ac565b6001546100df906001600160a01b031681565b61012660025481565b6040519081526020016100af565b6100cb6101423660046106b5565b610383565b6100cb6101553660046106e7565b505050565b5f80806101678486610724565b9050855f0361018457670de0b6b3a76400009150600192506101ae565b61019881670de0b6b3a7640000885f61042a565b91505f6101a58884610475565b60025410159350505b5094509492505050565b5f546001600160a01b031633148061024c575060015460405163b700961360e01b81523360048201523060248201525f356001600160e01b03191660448201526001600160a01b039091169063b700961390606401602060405180830381865afa158015610228573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061024c9190610737565b610254575f5ffd5b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03831690811790915560405133907fa3396fd7f6e0a21b50e5089d2da70d5ac0a3bbbd1f617a93f134b76389980198905f90a350565b6102c1335f356001600160e01b0319166104c6565b6103015760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064015b60405180910390fd5b67016345785d8a00008110610342576040517f5aede91d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60025460408051918252602082018390527f5b1f8430a1675242d4a0bdb976ee1c8740d114671db54660aba42fb46293e5dd910160405180910390a1600255565b610398335f356001600160e01b0319166104c6565b6103d35760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064016102f8565b5f805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081178255604051909133917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b5f6104576104378361057b565b801561045257505f848061044d5761044d610756565b868809115b151590565b6104628686866105a7565b61046c9190610724565b95945050505050565b5f825f0361048457505f6104c0565b5f83831161049b57610496838561076a565b6104a5565b6104a5848461076a565b90506104bc81670de0b6b3a764000086600161042a565b9150505b92915050565b6001545f906001600160a01b0316801580159061055c575060405163b700961360e01b81526001600160a01b0385811660048301523060248301526001600160e01b03198516604483015282169063b700961390606401602060405180830381865afa158015610538573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061055c9190610737565b806104bc57505f546001600160a01b0385811691161491505092915050565b5f60028260038111156105905761059061077d565b61059a9190610791565b60ff166001149050919050565b5f838302815f1985870982811083820303915050805f036105db578382816105d1576105d1610756565b0492505050610657565b8084116105f2576105f2600385150260111861065e565b5f848688095f868103871696879004966002600389028118808a02820302808a02820302808a02820302808a02820302808a02820302808a02909103029181900381900460010186841190950394909402919094039290920491909117919091029150505b9392505050565b634e487b715f52806020526024601cfd5b5f5f5f5f60808587031215610682575f5ffd5b5050823594602084013594506040840135936060013592509050565b6001600160a01b03811681146106b2575f5ffd5b50565b5f602082840312156106c5575f5ffd5b81356106578161069e565b5f602082840312156106e0575f5ffd5b5035919050565b5f5f5f606084860312156106f9575f5ffd5b505081359360208301359350604090920135919050565b634e487b7160e01b5f52601160045260245ffd5b808201808211156104c0576104c0610710565b5f60208284031215610747575f5ffd5b81518015158114610657575f5ffd5b634e487b7160e01b5f52601260045260245ffd5b818103818111156104c0576104c0610710565b634e487b7160e01b5f52602160045260245ffd5b5f60ff8316806107af57634e487b7160e01b5f52601260045260245ffd5b8060ff8416069150509291505056fea164736f6c634300081c000a","sourceMap":"488:2314:45:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;958:795;;;;;;:::i;:::-;;:::i;:::-;;;;799:14:51;;792:22;774:41;;846:2;831:18;;824:34;;;;747:18;958:795:45;;;;;;;;1523:434:38;;;;;;:::i;:::-;;:::i;:::-;;562:20;;;;;-1:-1:-1;;;;;562:20:38;;;;;;-1:-1:-1;;;;;1485:55:51;;;1467:74;;1455:2;1440:18;562:20:38;1321:226:51;2139:289:45;;;;;;:::i;:::-;;:::i;589:26:38:-;;;;;-1:-1:-1;;;;;589:26:38;;;584:34:45;;;;;;;;;2179:25:51;;;2167:2;2152:18;584:34:45;2033:177:51;1963:164:38;;;;;;:::i;:::-;;:::i;1798:296:45:-;;;;;;:::i;:::-;;;;;958:795;1139:19;;;1242:33;1255:20;1242:10;:33;:::i;:::-;1220:55;;1331:11;1346:1;1331:16;1327:420;;655:4;1363:20;;1414:4;1397:21;;1327:420;;;1458:65;:11;655:4;1490:11;1503:19;1458:18;:65::i;:::-;1449:74;;1593:24;1620:46;1647:10;1659:6;1620:26;:46::i;:::-;1717:19;;-1:-1:-1;1697:39:45;;-1:-1:-1;;1327:420:45;1176:577;958:795;;;;;;;:::o;1523:434:38:-;1794:5;;-1:-1:-1;;;;;1794:5:38;1780:10;:19;;:76;;-1:-1:-1;1803:9:38;;:53;;-1:-1:-1;;;1803:53:38;;1821:10;1803:53;;;3468:74:51;1841:4:38;3558:18:51;;;3551:83;1803:9:38;1848:7;-1:-1:-1;;;;;;1848:7:38;3650:18:51;;;3643:107;-1:-1:-1;;;;;1803:9:38;;;;:17;;3441:18:51;;1803:53:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1772:85;;;;;;1868:9;:24;;-1:-1:-1;;1868:24:38;-1:-1:-1;;;;;1868:24:38;;;;;;;;1908:42;;1925:10;;1908:42;;-1:-1:-1;;1908:42:38;1523:434;:::o;2139:289:45:-;902:33:38;915:10;927:7;;-1:-1:-1;;;;;;927:7:38;902:12;:33::i;:::-;894:58;;;;-1:-1:-1;;;894:58:38;;4245:2:51;894:58:38;;;4227:21:51;4284:2;4264:18;;;4257:30;-1:-1:-1;;;4303:18:51;;;4296:42;4355:18;;894:58:38;;;;;;;;;709:4:45::1;2236:12;:39;2228:79;;;;;;;;;;;;;;;;;2343:19;::::0;2322:55:::1;::::0;;4558:25:51;;;4614:2;4599:18;;4592:34;;;2322:55:45::1;::::0;4531:18:51;2322:55:45::1;;;;;;;2387:19;:34:::0;2139:289::o;1963:164:38:-;902:33;915:10;927:7;;-1:-1:-1;;;;;;927:7:38;902:12;:33::i;:::-;894:58;;;;-1:-1:-1;;;894:58:38;;4245:2:51;894:58:38;;;4227:21:51;4284:2;4264:18;;;4257:30;-1:-1:-1;;;4303:18:51;;;4296:42;4355:18;;894:58:38;4043:336:51;894:58:38;2046:5:::1;:16:::0;;-1:-1:-1;;2046:16:38::1;-1:-1:-1::0;;;;;2046:16:38;::::1;::::0;;::::1;::::0;;2078:42:::1;::::0;2046:16;;2099:10:::1;::::0;2078:42:::1;::::0;2046:5;2078:42:::1;1963:164:::0;:::o;9351:238:17:-;9452:7;9506:76;9522:26;9539:8;9522:16;:26::i;:::-;:59;;;;;9580:1;9565:11;9552:25;;;;;:::i;:::-;9562:1;9559;9552:25;:29;9522:59;34914:9:18;34907:17;;34795:145;9506:76:17;9478:25;9485:1;9488;9491:11;9478:6;:25::i;:::-;:104;;;;:::i;:::-;9471:111;9351:238;-1:-1:-1;;;;;9351:238:17:o;2494:306:45:-;2588:7;2611:8;2623:1;2611:13;2607:27;;-1:-1:-1;2633:1:45;2626:8;;2607:27;2644:12;2670:8;2659;:19;:63;;2703:19;2714:8;2703;:19;:::i;:::-;2659:63;;;2681:19;2692:8;2681;:19;:::i;:::-;2644:78;-1:-1:-1;2739:54:45;2644:78;655:4;2764:8;2774:18;2739:11;:54::i;:::-;2732:61;;;2494:306;;;;;:::o;977:540:38:-;1097:9;;1064:4;;-1:-1:-1;;;;;1097:9:38;1415:27;;;;;:77;;-1:-1:-1;1446:46:38;;-1:-1:-1;;;1446:46:38;;-1:-1:-1;;;;;3486:55:51;;;1446:46:38;;;3468:74:51;1473:4:38;3558:18:51;;;3551:83;-1:-1:-1;;;;;;3670:79:51;;3650:18;;;3643:107;1446:12:38;;;;;3441:18:51;;1446:46:38;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1414:96;;;-1:-1:-1;1505:5:38;;-1:-1:-1;;;;;1497:13:38;;;1505:5;;1497:13;1407:103;;;977:540;;;;:::o;28183:122:17:-;28251:4;28292:1;28280:8;28274:15;;;;;;;;:::i;:::-;:19;;;;:::i;:::-;:24;;28297:1;28274:24;28267:31;;28183:122;;;:::o;4996:4226::-;5078:14;5449:5;;;5078:14;-1:-1:-1;;5453:1:17;5449;5621:20;5694:5;5690:2;5687:13;5679:5;5675:2;5671:14;5667:34;5658:43;;;5796:5;5805:1;5796:10;5792:368;;6134:11;6126:5;:19;;;;;:::i;:::-;;6119:26;;;;;;5792:368;6285:5;6270:11;:20;6266:143;;6310:84;3066:5;6330:16;;3065:36;940:4:15;3060:42:17;6310:11;:84::i;:::-;6664:17;6799:11;6796:1;6793;6786:25;7199:12;7229:15;;;7214:31;;7348:22;;;;;8094:1;8075;:15;;8074:21;;8327;;;8323:25;;8312:36;8397:21;;;8393:25;;8382:36;8469:21;;;8465:25;;8454:36;8540:21;;;8536:25;;8525:36;8613:21;;;8609:25;;8598:36;8687:21;;;8683:25;;;8672:36;7597:12;;;;7593:23;;;7618:1;7589:31;6913:20;;;6902:32;;;7709:12;;;;6960:21;;;;7446:16;;;;7700:21;;;;9163:15;;;;;-1:-1:-1;;4996:4226:17;;;;;;:::o;1776:194:15:-;1881:10;1875:4;1868:24;1918:4;1912;1905:18;1949:4;1943;1936:18;14:587:51;100:6;108;116;124;177:3;165:9;156:7;152:23;148:33;145:53;;;194:1;191;184:12;145:53;-1:-1:-1;;239:23:51;;;359:2;344:18;;331:32;;-1:-1:-1;462:2:51;447:18;;434:32;;565:2;550:18;537:32;;-1:-1:-1;14:587:51;-1:-1:-1;14:587:51:o;869:165::-;-1:-1:-1;;;;;959:5:51;955:54;948:5;945:65;935:93;;1024:1;1021;1014:12;935:93;869:165;:::o;1039:277::-;1117:6;1170:2;1158:9;1149:7;1145:23;1141:32;1138:52;;;1186:1;1183;1176:12;1138:52;1225:9;1212:23;1244:42;1280:5;1244:42;:::i;1552:226::-;1611:6;1664:2;1652:9;1643:7;1639:23;1635:32;1632:52;;;1680:1;1677;1670:12;1632:52;-1:-1:-1;1725:23:51;;1552:226;-1:-1:-1;1552:226:51:o;2478:466::-;2555:6;2563;2571;2624:2;2612:9;2603:7;2599:23;2595:32;2592:52;;;2640:1;2637;2630:12;2592:52;-1:-1:-1;;2685:23:51;;;2805:2;2790:18;;2777:32;;-1:-1:-1;2908:2:51;2893:18;;;2880:32;;2478:466;-1:-1:-1;2478:466:51:o;2949:184::-;-1:-1:-1;;;2998:1:51;2991:88;3098:4;3095:1;3088:15;3122:4;3119:1;3112:15;3138:125;3203:9;;;3224:10;;;3221:36;;;3237:18;;:::i;3761:277::-;3828:6;3881:2;3869:9;3860:7;3856:23;3852:32;3849:52;;;3897:1;3894;3887:12;3849:52;3929:9;3923:16;3982:5;3975:13;3968:21;3961:5;3958:32;3948:60;;4004:1;4001;3994:12;4637:184;-1:-1:-1;;;4686:1:51;4679:88;4786:4;4783:1;4776:15;4810:4;4807:1;4800:15;4826:128;4893:9;;;4914:11;;;4911:37;;;4928:18;;:::i;4959:184::-;-1:-1:-1;;;5008:1:51;5001:88;5108:4;5105:1;5098:15;5132:4;5129:1;5122:15;5148:311;5178:1;5212:4;5209:1;5205:12;5236:3;5226:191;;-1:-1:-1;;;5270:1:51;5263:88;5374:4;5371:1;5364:15;5402:4;5399:1;5392:15;5226:191;5449:3;5442:4;5439:1;5435:12;5431:22;5426:27;;;5148:311;;;;:::o","linkReferences":{}},"methodIdentifiers":{"afterBalanceUpdate(uint256,uint256,uint256)":"fcbde389","authority()":"bf7e214f","beforeBalanceUpdate(uint256,uint256,uint256,uint256)":"1faab223","maxPercentageChange()":"cfa40aed","owner()":"8da5cb5b","setAuthority(address)":"7a9e5e4b","transferOwnership(address)":"f2fde38b","updateMaxPercentageChange(uint256)":"95c5eaf5"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidMaxPercentage\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"contract Authority\",\"name\":\"newAuthority\",\"type\":\"address\"}],\"name\":\"AuthorityUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldMax\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newMax\",\"type\":\"uint256\"}],\"name\":\"MaxPercentageUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"afterBalanceUpdate\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"authority\",\"outputs\":[{\"internalType\":\"contract Authority\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentPPS\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"idleAssets\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newAggregatedBalance\",\"type\":\"uint256\"}],\"name\":\"beforeBalanceUpdate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"shouldContinue\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"newPPS\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"maxPercentageChange\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract Authority\",\"name\":\"newAuthority\",\"type\":\"address\"}],\"name\":\"setAuthority\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newThreshold\",\"type\":\"uint256\"}],\"name\":\"updateMaxPercentageChange\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Pure calculation helper - does not modify vault state\",\"kind\":\"dev\",\"methods\":{\"afterBalanceUpdate(uint256,uint256,uint256)\":{\"params\":{\"newBalance\":\"New aggregated balance\",\"newPPS\":\"New price per share\",\"oldBalance\":\"Previous aggregated balance\"}},\"beforeBalanceUpdate(uint256,uint256,uint256,uint256)\":{\"params\":{\"currentPPS\":\"Current price per share\",\"idleAssets\":\"Idle assets in vault\",\"newAggregatedBalance\":\"New aggregated balance from strategies\",\"totalSupply\":\"Total vault shares\"},\"returns\":{\"newPPS\":\"Calculated new price per share\",\"shouldContinue\":\"If false, update should be rejected and vault paused\"}},\"updateMaxPercentageChange(uint256)\":{\"params\":{\"newThreshold\":\"New max percentage change (1e18 = 100%)\"}}},\"title\":\"ManualBalanceUpdateHook\",\"version\":1},\"userdoc\":{\"errors\":{\"InvalidMaxPercentage()\":[{\"notice\":\"Thrown when the new max percentage is greater than the current max percentage.\"}]},\"kind\":\"user\",\"methods\":{\"afterBalanceUpdate(uint256,uint256,uint256)\":{\"notice\":\"Called after balance update completes (for future extensibility)\"},\"beforeBalanceUpdate(uint256,uint256,uint256,uint256)\":{\"notice\":\"Called before balance update to validate and calculate new PPS\"},\"maxPercentageChange()\":{\"notice\":\"Get current max percentage change threshold\"},\"updateMaxPercentageChange(uint256)\":{\"notice\":\"Update the maximum price change threshold\"}},\"notice\":\"Hook that validates balance updates based on price change thresholds\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/hooks/ManualBalanceUpdateHook.sol\":\"ManualBalanceUpdateHook\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@solmate/=node_modules/solmate/src/\",\":forge-std/=node_modules/forge-std/src/\",\":solmate/=node_modules/solmate/\"]},\"sources\":{\"node_modules/@openzeppelin/contracts/utils/Panic.sol\":{\"keccak256\":\"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a\",\"dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG\"]},\"node_modules/@openzeppelin/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d\",\"dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1\"]},\"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8\",\"dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy\"]},\"node_modules/solmate/src/auth/Auth.sol\":{\"keccak256\":\"0x6e05238d59cd40172c04c1974eb8f1f6cef4fdc4b6553ef7844a7302b885f76c\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://a9743c21ca0470d9082e4cf00aea53786868c977d40775e6954463658ebb50ac\",\"dweb:/ipfs/QmPFdyrLHUX1zSipTC2tcJ58EzxxPp2TTvCZx9KCgqZn2W\"]},\"src/hooks/ManualBalanceUpdateHook.sol\":{\"keccak256\":\"0x2754a8eaba4cfccc805e22b0ce6633aa8d07dcefacd2129cb1970c4fa8f2463b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bedfd3a20b1110053385967bc2141713a8b84f1f32973e5afc65a36134eb1488\",\"dweb:/ipfs/QmdYe3khHSJHVuikRaaBqExEsEzfY41rhTMTEMqYthpx1X\"]},\"src/interfaces/IBalanceUpdateHook.sol\":{\"keccak256\":\"0x86171480b2d7111d180f940e866f2b1ebfccbeb07bae09329d121d9c4815d52e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7e32aaf83d171193f5edf92f8e4c2c50de7b996e0b54dbdd909bedaea7761d4e\",\"dweb:/ipfs/QmaKy5DQJCd34avuCBQtJhx4Ez955dHC3Nr6PukqwXG7dG\"]},\"src/libraries/Errors.sol\":{\"keccak256\":\"0xae33ca9825182ac051757cb5a13c2ae47c0e24020a04c74989c316491d2dfe89\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e1a964fc49f09f36861c0061d27aabf0489e2fd4a9282a3871d0b338a0b38731\",\"dweb:/ipfs/QmaKRqJBicUmZd5EyX46Bct75HJePYRVZ6eobmP9smSMkm\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidMaxPercentage"},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"contract Authority","name":"newAuthority","type":"address","indexed":true}],"type":"event","name":"AuthorityUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldMax","type":"uint256","indexed":false},{"internalType":"uint256","name":"newMax","type":"uint256","indexed":false}],"type":"event","name":"MaxPercentageUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"afterBalanceUpdate"},{"inputs":[],"stateMutability":"view","type":"function","name":"authority","outputs":[{"internalType":"contract Authority","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"currentPPS","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"idleAssets","type":"uint256"},{"internalType":"uint256","name":"newAggregatedBalance","type":"uint256"}],"stateMutability":"view","type":"function","name":"beforeBalanceUpdate","outputs":[{"internalType":"bool","name":"shouldContinue","type":"bool"},{"internalType":"uint256","name":"newPPS","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"maxPercentageChange","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"contract Authority","name":"newAuthority","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setAuthority"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"newThreshold","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateMaxPercentageChange"}],"devdoc":{"kind":"dev","methods":{"afterBalanceUpdate(uint256,uint256,uint256)":{"params":{"newBalance":"New aggregated balance","newPPS":"New price per share","oldBalance":"Previous aggregated balance"}},"beforeBalanceUpdate(uint256,uint256,uint256,uint256)":{"params":{"currentPPS":"Current price per share","idleAssets":"Idle assets in vault","newAggregatedBalance":"New aggregated balance from strategies","totalSupply":"Total vault shares"},"returns":{"newPPS":"Calculated new price per share","shouldContinue":"If false, update should be rejected and vault paused"}},"updateMaxPercentageChange(uint256)":{"params":{"newThreshold":"New max percentage change (1e18 = 100%)"}}},"version":1},"userdoc":{"kind":"user","methods":{"afterBalanceUpdate(uint256,uint256,uint256)":{"notice":"Called after balance update completes (for future extensibility)"},"beforeBalanceUpdate(uint256,uint256,uint256,uint256)":{"notice":"Called before balance update to validate and calculate new PPS"},"maxPercentageChange()":{"notice":"Get current max percentage change threshold"},"updateMaxPercentageChange(uint256)":{"notice":"Update the maximum price change threshold"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@solmate/=node_modules/solmate/src/","forge-std/=node_modules/forge-std/src/","solmate/=node_modules/solmate/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"src/hooks/ManualBalanceUpdateHook.sol":"ManualBalanceUpdateHook"},"evmVersion":"shanghai","libraries":{}},"sources":{"node_modules/@openzeppelin/contracts/utils/Panic.sol":{"keccak256":"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a","urls":["bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a","dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/Math.sol":{"keccak256":"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea","urls":["bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d","dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol":{"keccak256":"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54","urls":["bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8","dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy"],"license":"MIT"},"node_modules/solmate/src/auth/Auth.sol":{"keccak256":"0x6e05238d59cd40172c04c1974eb8f1f6cef4fdc4b6553ef7844a7302b885f76c","urls":["bzz-raw://a9743c21ca0470d9082e4cf00aea53786868c977d40775e6954463658ebb50ac","dweb:/ipfs/QmPFdyrLHUX1zSipTC2tcJ58EzxxPp2TTvCZx9KCgqZn2W"],"license":"AGPL-3.0-only"},"src/hooks/ManualBalanceUpdateHook.sol":{"keccak256":"0x2754a8eaba4cfccc805e22b0ce6633aa8d07dcefacd2129cb1970c4fa8f2463b","urls":["bzz-raw://bedfd3a20b1110053385967bc2141713a8b84f1f32973e5afc65a36134eb1488","dweb:/ipfs/QmdYe3khHSJHVuikRaaBqExEsEzfY41rhTMTEMqYthpx1X"],"license":"MIT"},"src/interfaces/IBalanceUpdateHook.sol":{"keccak256":"0x86171480b2d7111d180f940e866f2b1ebfccbeb07bae09329d121d9c4815d52e","urls":["bzz-raw://7e32aaf83d171193f5edf92f8e4c2c50de7b996e0b54dbdd909bedaea7761d4e","dweb:/ipfs/QmaKy5DQJCd34avuCBQtJhx4Ez955dHC3Nr6PukqwXG7dG"],"license":"MIT"},"src/libraries/Errors.sol":{"keccak256":"0xae33ca9825182ac051757cb5a13c2ae47c0e24020a04c74989c316491d2dfe89","urls":["bzz-raw://e1a964fc49f09f36861c0061d27aabf0489e2fd4a9282a3871d0b338a0b38731","dweb:/ipfs/QmaKRqJBicUmZd5EyX46Bct75HJePYRVZ6eobmP9smSMkm"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":42982,"contract":"src/hooks/ManualBalanceUpdateHook.sol:ManualBalanceUpdateHook","label":"owner","offset":0,"slot":"0","type":"t_address"},{"astId":42985,"contract":"src/hooks/ManualBalanceUpdateHook.sol:ManualBalanceUpdateHook","label":"authority","offset":0,"slot":"1","type":"t_contract(Authority)43136"},{"astId":45209,"contract":"src/hooks/ManualBalanceUpdateHook.sol:ManualBalanceUpdateHook","label":"maxPercentageChange","offset":0,"slot":"2","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_contract(Authority)43136":{"encoding":"inplace","label":"contract Authority","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/hooks/ManualBalanceUpdateHook.sol","id":45380,"exportedSymbols":{"Auth":[43123],"Authority":[43136],"Errors":[45713],"IBalanceUpdateHook":[45421],"ManualBalanceUpdateHook":[45379],"Math":[4718]},"nodeType":"SourceUnit","src":"32:2771:45","nodes":[{"id":45190,"nodeType":"PragmaDirective","src":"32:23:45","nodes":[],"literals":["solidity","0.8",".28"]},{"id":45192,"nodeType":"ImportDirective","src":"57:49:45","nodes":[],"absolutePath":"src/libraries/Errors.sol","file":"../libraries/Errors.sol","nameLocation":"-1:-1:-1","scope":45380,"sourceUnit":45714,"symbolAliases":[{"foreign":{"id":45191,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45713,"src":"66:6:45","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45194,"nodeType":"ImportDirective","src":"107:74:45","nodes":[],"absolutePath":"src/interfaces/IBalanceUpdateHook.sol","file":"../interfaces/IBalanceUpdateHook.sol","nameLocation":"-1:-1:-1","scope":45380,"sourceUnit":45422,"symbolAliases":[{"foreign":{"id":45193,"name":"IBalanceUpdateHook","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45421,"src":"116:18:45","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45197,"nodeType":"ImportDirective","src":"182:57:45","nodes":[],"absolutePath":"node_modules/solmate/src/auth/Auth.sol","file":"@solmate/auth/Auth.sol","nameLocation":"-1:-1:-1","scope":45380,"sourceUnit":43137,"symbolAliases":[{"foreign":{"id":45195,"name":"Auth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43123,"src":"191:4:45","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45196,"name":"Authority","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43136,"src":"197:9:45","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45199,"nodeType":"ImportDirective","src":"240:67:45","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/utils/math/Math.sol","file":"@openzeppelin/contracts/utils/math/Math.sol","nameLocation":"-1:-1:-1","scope":45380,"sourceUnit":4719,"symbolAliases":[{"foreign":{"id":45198,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4718,"src":"249:4:45","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45379,"nodeType":"ContractDefinition","src":"488:2314:45","nodes":[{"id":45207,"nodeType":"UsingForDirective","src":"555:23:45","nodes":[],"global":false,"libraryName":{"id":45205,"name":"Math","nameLocations":["561:4:45"],"nodeType":"IdentifierPath","referencedDeclaration":4718,"src":"561:4:45"},"typeName":{"id":45206,"name":"uint256","nodeType":"ElementaryTypeName","src":"570:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":45209,"nodeType":"VariableDeclaration","src":"584:34:45","nodes":[],"baseFunctions":[45420],"constant":false,"functionSelector":"cfa40aed","mutability":"mutable","name":"maxPercentageChange","nameLocation":"599:19:45","scope":45379,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45208,"name":"uint256","nodeType":"ElementaryTypeName","src":"584:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":45212,"nodeType":"VariableDeclaration","src":"624:35:45","nodes":[],"constant":true,"mutability":"constant","name":"DENOMINATOR","nameLocation":"641:11:45","scope":45379,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45210,"name":"uint256","nodeType":"ElementaryTypeName","src":"624:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":45211,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"655:4:45","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"internal"},{"id":45215,"nodeType":"VariableDeclaration","src":"665:48:45","nodes":[],"constant":true,"mutability":"constant","name":"MAX_PERCENTAGE_THRESHOLD","nameLocation":"682:24:45","scope":45379,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45213,"name":"uint256","nodeType":"ElementaryTypeName","src":"665:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653137","id":45214,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"709:4:45","typeDescriptions":{"typeIdentifier":"t_rational_100000000000000000_by_1","typeString":"int_const 100000000000000000"},"value":"1e17"},"visibility":"internal"},{"id":45221,"nodeType":"EventDefinition","src":"727:59:45","nodes":[],"anonymous":false,"eventSelector":"5b1f8430a1675242d4a0bdb976ee1c8740d114671db54660aba42fb46293e5dd","name":"MaxPercentageUpdated","nameLocation":"733:20:45","parameters":{"id":45220,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45217,"indexed":false,"mutability":"mutable","name":"oldMax","nameLocation":"762:6:45","nodeType":"VariableDeclaration","scope":45221,"src":"754:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45216,"name":"uint256","nodeType":"ElementaryTypeName","src":"754:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45219,"indexed":false,"mutability":"mutable","name":"newMax","nameLocation":"778:6:45","nodeType":"VariableDeclaration","scope":45221,"src":"770:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45218,"name":"uint256","nodeType":"ElementaryTypeName","src":"770:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"753:32:45"}},{"id":45240,"nodeType":"FunctionDefinition","src":"792:121:45","nodes":[],"body":{"id":45239,"nodeType":"Block","src":"856:57:45","nodes":[],"statements":[{"expression":{"id":45237,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45235,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45209,"src":"866:19:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31653136","id":45236,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"888:4:45","typeDescriptions":{"typeIdentifier":"t_rational_10000000000000000_by_1","typeString":"int_const 10000000000000000"},"value":"1e16"},"src":"866:26:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45238,"nodeType":"ExpressionStatement","src":"866:26:45"}]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[{"id":45226,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45223,"src":"825:6:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"arguments":[{"hexValue":"30","id":45230,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"851:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":45229,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"843:7:45","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":45228,"name":"address","nodeType":"ElementaryTypeName","src":"843:7:45","typeDescriptions":{}}},"id":45231,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"843:10:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":45227,"name":"Authority","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43136,"src":"833:9:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Authority_$43136_$","typeString":"type(contract Authority)"}},"id":45232,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"833:21:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_Authority_$43136","typeString":"contract Authority"}}],"id":45233,"kind":"baseConstructorSpecifier","modifierName":{"id":45225,"name":"Auth","nameLocations":["820:4:45"],"nodeType":"IdentifierPath","referencedDeclaration":43123,"src":"820:4:45"},"nodeType":"ModifierInvocation","src":"820:35:45"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":45224,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45223,"mutability":"mutable","name":"_owner","nameLocation":"812:6:45","nodeType":"VariableDeclaration","scope":45240,"src":"804:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45222,"name":"address","nodeType":"ElementaryTypeName","src":"804:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"803:16:45"},"returnParameters":{"id":45234,"nodeType":"ParameterList","parameters":[],"src":"856:0:45"},"scope":45379,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":45301,"nodeType":"FunctionDefinition","src":"958:795:45","nodes":[],"body":{"id":45300,"nodeType":"Block","src":"1176:577:45","nodes":[],"statements":[{"assignments":[45257],"declarations":[{"constant":false,"id":45257,"mutability":"mutable","name":"totalAssets","nameLocation":"1228:11:45","nodeType":"VariableDeclaration","scope":45300,"src":"1220:19:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45256,"name":"uint256","nodeType":"ElementaryTypeName","src":"1220:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45261,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45260,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45258,"name":"idleAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45247,"src":"1242:10:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":45259,"name":"newAggregatedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45249,"src":"1255:20:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1242:33:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1220:55:45"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45262,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45245,"src":"1331:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":45263,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1346:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1331:16:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":45298,"nodeType":"Block","src":"1435:312:45","statements":[{"expression":{"id":45283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45274,"name":"newPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45254,"src":"1449:6:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":45277,"name":"DENOMINATOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45212,"src":"1477:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45278,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45245,"src":"1490:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":45279,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4718,"src":"1503:4:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$4718_$","typeString":"type(library Math)"}},"id":45280,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1508:8:45","memberName":"Rounding","nodeType":"MemberAccess","referencedDeclaration":3124,"src":"1503:13:45","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Rounding_$3124_$","typeString":"type(enum Math.Rounding)"}},"id":45281,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1517:5:45","memberName":"Floor","nodeType":"MemberAccess","referencedDeclaration":3120,"src":"1503:19:45","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$3124","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$3124","typeString":"enum Math.Rounding"}],"expression":{"id":45275,"name":"totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45257,"src":"1458:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1470:6:45","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":3585,"src":"1458:18:45","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$3124_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":45282,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1458:65:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1449:74:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45284,"nodeType":"ExpressionStatement","src":"1449:74:45"},{"assignments":[45286],"declarations":[{"constant":false,"id":45286,"mutability":"mutable","name":"percentageChange","nameLocation":"1601:16:45","nodeType":"VariableDeclaration","scope":45298,"src":"1593:24:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45285,"name":"uint256","nodeType":"ElementaryTypeName","src":"1593:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45291,"initialValue":{"arguments":[{"id":45288,"name":"currentPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45243,"src":"1647:10:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45289,"name":"newPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45254,"src":"1659:6:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45287,"name":"_calculatePercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45378,"src":"1620:26:45","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":45290,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1620:46:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1593:73:45"},{"expression":{"id":45296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45292,"name":"shouldContinue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45252,"src":"1680:14:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45293,"name":"percentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45286,"src":"1697:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":45294,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45209,"src":"1717:19:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1697:39:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1680:56:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45297,"nodeType":"ExpressionStatement","src":"1680:56:45"}]},"id":45299,"nodeType":"IfStatement","src":"1327:420:45","trueBody":{"id":45273,"nodeType":"Block","src":"1349:80:45","statements":[{"expression":{"id":45267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45265,"name":"newPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45254,"src":"1363:6:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45266,"name":"DENOMINATOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45212,"src":"1372:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1363:20:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45268,"nodeType":"ExpressionStatement","src":"1363:20:45"},{"expression":{"id":45271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45269,"name":"shouldContinue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45252,"src":"1397:14:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":45270,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1414:4:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1397:21:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45272,"nodeType":"ExpressionStatement","src":"1397:21:45"}]}}]},"baseFunctions":[45398],"documentation":{"id":45241,"nodeType":"StructuredDocumentation","src":"919:34:45","text":"@inheritdoc IBalanceUpdateHook"},"functionSelector":"1faab223","implemented":true,"kind":"function","modifiers":[],"name":"beforeBalanceUpdate","nameLocation":"967:19:45","parameters":{"id":45250,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45243,"mutability":"mutable","name":"currentPPS","nameLocation":"1004:10:45","nodeType":"VariableDeclaration","scope":45301,"src":"996:18:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45242,"name":"uint256","nodeType":"ElementaryTypeName","src":"996:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45245,"mutability":"mutable","name":"totalSupply","nameLocation":"1032:11:45","nodeType":"VariableDeclaration","scope":45301,"src":"1024:19:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45244,"name":"uint256","nodeType":"ElementaryTypeName","src":"1024:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45247,"mutability":"mutable","name":"idleAssets","nameLocation":"1061:10:45","nodeType":"VariableDeclaration","scope":45301,"src":"1053:18:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45246,"name":"uint256","nodeType":"ElementaryTypeName","src":"1053:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45249,"mutability":"mutable","name":"newAggregatedBalance","nameLocation":"1089:20:45","nodeType":"VariableDeclaration","scope":45301,"src":"1081:28:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45248,"name":"uint256","nodeType":"ElementaryTypeName","src":"1081:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"986:129:45"},"returnParameters":{"id":45255,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45252,"mutability":"mutable","name":"shouldContinue","nameLocation":"1144:14:45","nodeType":"VariableDeclaration","scope":45301,"src":"1139:19:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45251,"name":"bool","nodeType":"ElementaryTypeName","src":"1139:4:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":45254,"mutability":"mutable","name":"newPPS","nameLocation":"1168:6:45","nodeType":"VariableDeclaration","scope":45301,"src":"1160:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45253,"name":"uint256","nodeType":"ElementaryTypeName","src":"1160:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1138:37:45"},"scope":45379,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":45312,"nodeType":"FunctionDefinition","src":"1798:296:45","nodes":[],"body":{"id":45311,"nodeType":"Block","src":"1944:150:45","nodes":[],"statements":[]},"baseFunctions":[45408],"documentation":{"id":45302,"nodeType":"StructuredDocumentation","src":"1759:34:45","text":"@inheritdoc IBalanceUpdateHook"},"functionSelector":"fcbde389","implemented":true,"kind":"function","modifiers":[],"name":"afterBalanceUpdate","nameLocation":"1807:18:45","parameters":{"id":45309,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45304,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45312,"src":"1835:7:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45303,"name":"uint256","nodeType":"ElementaryTypeName","src":"1835:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45306,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45312,"src":"1869:7:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45305,"name":"uint256","nodeType":"ElementaryTypeName","src":"1869:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45308,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45312,"src":"1903:7:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45307,"name":"uint256","nodeType":"ElementaryTypeName","src":"1903:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1825:104:45"},"returnParameters":{"id":45310,"nodeType":"ParameterList","parameters":[],"src":"1944:0:45"},"scope":45379,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":45339,"nodeType":"FunctionDefinition","src":"2139:289:45","nodes":[],"body":{"id":45338,"nodeType":"Block","src":"2218:210:45","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45321,"name":"newThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45315,"src":"2236:12:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":45322,"name":"MAX_PERCENTAGE_THRESHOLD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45215,"src":"2251:24:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2236:39:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":45324,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45713,"src":"2277:6:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$45713_$","typeString":"type(library Errors)"}},"id":45325,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2284:20:45","memberName":"InvalidMaxPercentage","nodeType":"MemberAccess","referencedDeclaration":45694,"src":"2277:27:45","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":45326,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2277:29:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":45320,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"2228:7:45","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":45327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2228:79:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45328,"nodeType":"ExpressionStatement","src":"2228:79:45"},{"eventCall":{"arguments":[{"id":45330,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45209,"src":"2343:19:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45331,"name":"newThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45315,"src":"2364:12:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45329,"name":"MaxPercentageUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45221,"src":"2322:20:45","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":45332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2322:55:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45333,"nodeType":"EmitStatement","src":"2317:60:45"},{"expression":{"id":45336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45334,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45209,"src":"2387:19:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45335,"name":"newThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45315,"src":"2409:12:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2387:34:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45337,"nodeType":"ExpressionStatement","src":"2387:34:45"}]},"baseFunctions":[45414],"documentation":{"id":45313,"nodeType":"StructuredDocumentation","src":"2100:34:45","text":"@inheritdoc IBalanceUpdateHook"},"functionSelector":"95c5eaf5","implemented":true,"kind":"function","modifiers":[{"id":45318,"kind":"modifierInvocation","modifierName":{"id":45317,"name":"requiresAuth","nameLocations":["2205:12:45"],"nodeType":"IdentifierPath","referencedDeclaration":43028,"src":"2205:12:45"},"nodeType":"ModifierInvocation","src":"2205:12:45"}],"name":"updateMaxPercentageChange","nameLocation":"2148:25:45","parameters":{"id":45316,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45315,"mutability":"mutable","name":"newThreshold","nameLocation":"2182:12:45","nodeType":"VariableDeclaration","scope":45339,"src":"2174:20:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45314,"name":"uint256","nodeType":"ElementaryTypeName","src":"2174:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2173:22:45"},"returnParameters":{"id":45319,"nodeType":"ParameterList","parameters":[],"src":"2218:0:45"},"scope":45379,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":45378,"nodeType":"FunctionDefinition","src":"2494:306:45","nodes":[],"body":{"id":45377,"nodeType":"Block","src":"2597:203:45","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45351,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45349,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45342,"src":"2611:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":45350,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2623:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2611:13:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45354,"nodeType":"IfStatement","src":"2607:27:45","trueBody":{"expression":{"hexValue":"30","id":45352,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2633:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":45348,"id":45353,"nodeType":"Return","src":"2626:8:45"}},{"assignments":[45356],"declarations":[{"constant":false,"id":45356,"mutability":"mutable","name":"diff","nameLocation":"2652:4:45","nodeType":"VariableDeclaration","scope":45377,"src":"2644:12:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45355,"name":"uint256","nodeType":"ElementaryTypeName","src":"2644:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45367,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45357,"name":"newPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45344,"src":"2659:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":45358,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45342,"src":"2670:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2659:19:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45363,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45342,"src":"2703:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45364,"name":"newPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45344,"src":"2714:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2703:19:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2659:63:45","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45362,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45360,"name":"newPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45344,"src":"2681:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":45361,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45342,"src":"2692:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2681:19:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2644:78:45"},{"expression":{"arguments":[{"id":45370,"name":"DENOMINATOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45212,"src":"2751:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":45371,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45342,"src":"2764:8:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":45372,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4718,"src":"2774:4:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$4718_$","typeString":"type(library Math)"}},"id":45373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2779:8:45","memberName":"Rounding","nodeType":"MemberAccess","referencedDeclaration":3124,"src":"2774:13:45","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Rounding_$3124_$","typeString":"type(enum Math.Rounding)"}},"id":45374,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2788:4:45","memberName":"Ceil","nodeType":"MemberAccess","referencedDeclaration":3121,"src":"2774:18:45","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$3124","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$3124","typeString":"enum Math.Rounding"}],"expression":{"id":45368,"name":"diff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45356,"src":"2739:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":45369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2744:6:45","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":3585,"src":"2739:11:45","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$3124_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":45375,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2739:54:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":45348,"id":45376,"nodeType":"Return","src":"2732:61:45"}]},"documentation":{"id":45340,"nodeType":"StructuredDocumentation","src":"2434:55:45","text":"@dev Calculate percentage change between two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"_calculatePercentageChange","nameLocation":"2503:26:45","parameters":{"id":45345,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45342,"mutability":"mutable","name":"oldPrice","nameLocation":"2538:8:45","nodeType":"VariableDeclaration","scope":45378,"src":"2530:16:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45341,"name":"uint256","nodeType":"ElementaryTypeName","src":"2530:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45344,"mutability":"mutable","name":"newPrice","nameLocation":"2556:8:45","nodeType":"VariableDeclaration","scope":45378,"src":"2548:16:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45343,"name":"uint256","nodeType":"ElementaryTypeName","src":"2548:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2529:36:45"},"returnParameters":{"id":45348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45347,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45378,"src":"2588:7:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45346,"name":"uint256","nodeType":"ElementaryTypeName","src":"2588:7:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2587:9:45"},"scope":45379,"stateMutability":"pure","virtual":false,"visibility":"private"}],"abstract":false,"baseContracts":[{"baseName":{"id":45201,"name":"IBalanceUpdateHook","nameLocations":["524:18:45"],"nodeType":"IdentifierPath","referencedDeclaration":45421,"src":"524:18:45"},"id":45202,"nodeType":"InheritanceSpecifier","src":"524:18:45"},{"baseName":{"id":45203,"name":"Auth","nameLocations":["544:4:45"],"nodeType":"IdentifierPath","referencedDeclaration":43123,"src":"544:4:45"},"id":45204,"nodeType":"InheritanceSpecifier","src":"544:4:45"}],"canonicalName":"ManualBalanceUpdateHook","contractDependencies":[],"contractKind":"contract","documentation":{"id":45200,"nodeType":"StructuredDocumentation","src":"309:179:45","text":"@title ManualBalanceUpdateHook\n @notice Hook that validates balance updates based on price change thresholds\n @dev Pure calculation helper - does not modify vault state"},"fullyImplemented":true,"linearizedBaseContracts":[45379,43123,45421],"name":"ManualBalanceUpdateHook","nameLocation":"497:23:45","scope":45380,"usedErrors":[45694],"usedEvents":[42973,42980,45221]}],"license":"MIT"},"id":45}