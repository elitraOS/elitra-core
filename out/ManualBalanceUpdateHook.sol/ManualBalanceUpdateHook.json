{"abi":[{"type":"constructor","inputs":[{"name":"_owner","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"afterBalanceUpdate","inputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"authority","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract Authority"}],"stateMutability":"view"},{"type":"function","name":"beforeBalanceUpdate","inputs":[{"name":"currentPPS","type":"uint256","internalType":"uint256"},{"name":"totalSupply","type":"uint256","internalType":"uint256"},{"name":"idleAssets","type":"uint256","internalType":"uint256"},{"name":"newAggregatedBalance","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"shouldContinue","type":"bool","internalType":"bool"},{"name":"newPPS","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"maxPercentageChange","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setAuthority","inputs":[{"name":"newAuthority","type":"address","internalType":"contract Authority"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateMaxPercentageChange","inputs":[{"name":"newThreshold","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AuthorityUpdated","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"newAuthority","type":"address","indexed":true,"internalType":"contract Authority"}],"anonymous":false},{"type":"event","name":"MaxPercentageUpdated","inputs":[{"name":"oldMax","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newMax","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"InvalidMaxPercentage","inputs":[]}],"bytecode":{"object":"0x608060405234801561000f575f5ffd5b506040516108d03803806108d083398101604081905261002e916100cb565b5f80546001600160a01b0383166001600160a01b031991821681178355600180549092169091556040518392919033907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908490a36040516001600160a01b0382169033907fa3396fd7f6e0a21b50e5089d2da70d5ac0a3bbbd1f617a93f134b76389980198905f90a35050662386f26fc10000600255506100f8565b5f602082840312156100db575f5ffd5b81516001600160a01b03811681146100f1575f5ffd5b9392505050565b6107cb806101055f395ff3fe608060405234801561000f575f5ffd5b5060043610610085575f3560e01c8063bf7e214f11610058578063bf7e214f1461010a578063cfa40aed1461011d578063f2fde38b14610134578063fcbde38914610147575f5ffd5b80631faab223146100895780637a9e5e4b146100b85780638da5cb5b146100cd57806395c5eaf5146100f7575b5f5ffd5b61009c61009736600461066f565b61015a565b6040805192151583526020830191909152015b60405180910390f35b6100cb6100c63660046106b5565b6101b8565b005b5f546100df906001600160a01b031681565b6040516001600160a01b0390911681526020016100af565b6100cb6101053660046106d0565b6102ac565b6001546100df906001600160a01b031681565b61012660025481565b6040519081526020016100af565b6100cb6101423660046106b5565b610383565b6100cb6101553660046106e7565b505050565b5f80806101678486610724565b9050855f0361018457670de0b6b3a76400009150600192506101ae565b61019881670de0b6b3a7640000885f61042a565b91505f6101a58884610475565b60025410159350505b5094509492505050565b5f546001600160a01b031633148061024c575060015460405163b700961360e01b81523360048201523060248201525f356001600160e01b03191660448201526001600160a01b039091169063b700961390606401602060405180830381865afa158015610228573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061024c9190610737565b610254575f5ffd5b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03831690811790915560405133907fa3396fd7f6e0a21b50e5089d2da70d5ac0a3bbbd1f617a93f134b76389980198905f90a350565b6102c1335f356001600160e01b0319166104c6565b6103015760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064015b60405180910390fd5b67016345785d8a00008110610342576040517f5aede91d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60025460408051918252602082018390527f5b1f8430a1675242d4a0bdb976ee1c8740d114671db54660aba42fb46293e5dd910160405180910390a1600255565b610398335f356001600160e01b0319166104c6565b6103d35760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064016102f8565b5f805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081178255604051909133917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b5f6104576104378361057b565b801561045257505f848061044d5761044d610756565b868809115b151590565b6104628686866105a7565b61046c9190610724565b95945050505050565b5f825f0361048457505f6104c0565b5f83831161049b57610496838561076a565b6104a5565b6104a5848461076a565b90506104bc81670de0b6b3a764000086600161042a565b9150505b92915050565b6001545f906001600160a01b0316801580159061055c575060405163b700961360e01b81526001600160a01b0385811660048301523060248301526001600160e01b03198516604483015282169063b700961390606401602060405180830381865afa158015610538573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061055c9190610737565b806104bc57505f546001600160a01b0385811691161491505092915050565b5f60028260038111156105905761059061077d565b61059a9190610791565b60ff166001149050919050565b5f838302815f1985870982811083820303915050805f036105db578382816105d1576105d1610756565b0492505050610657565b8084116105f2576105f2600385150260111861065e565b5f848688095f868103871696879004966002600389028118808a02820302808a02820302808a02820302808a02820302808a02820302808a02909103029181900381900460010186841190950394909402919094039290920491909117919091029150505b9392505050565b634e487b715f52806020526024601cfd5b5f5f5f5f60808587031215610682575f5ffd5b5050823594602084013594506040840135936060013592509050565b6001600160a01b03811681146106b2575f5ffd5b50565b5f602082840312156106c5575f5ffd5b81356106578161069e565b5f602082840312156106e0575f5ffd5b5035919050565b5f5f5f606084860312156106f9575f5ffd5b505081359360208301359350604090920135919050565b634e487b7160e01b5f52601160045260245ffd5b808201808211156104c0576104c0610710565b5f60208284031215610747575f5ffd5b81518015158114610657575f5ffd5b634e487b7160e01b5f52601260045260245ffd5b818103818111156104c0576104c0610710565b634e487b7160e01b5f52602160045260245ffd5b5f60ff8316806107af57634e487b7160e01b5f52601260045260245ffd5b8060ff8416069150509291505056fea164736f6c634300081c000a","sourceMap":"488:2314:66:-:0;;;792:121;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;851:1;682:14:54;;-1:-1:-1;;;;;682:14:54;;-1:-1:-1;;;;;;682:14:54;;;;;;;;706:22;;;;;;;;744:40;;825:6:66;;851:1;682:14:54;765:10;;744:40;;851:1:66;;744:40:54;799;;-1:-1:-1;;;;;799:40:54;;;816:10;;799:40;;;;;-1:-1:-1;;888:4:66::1;866:19;:26:::0;-1:-1:-1;488:2314:66;;14:290:88;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:88;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:88:o;:::-;488:2314:66;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610085575f3560e01c8063bf7e214f11610058578063bf7e214f1461010a578063cfa40aed1461011d578063f2fde38b14610134578063fcbde38914610147575f5ffd5b80631faab223146100895780637a9e5e4b146100b85780638da5cb5b146100cd57806395c5eaf5146100f7575b5f5ffd5b61009c61009736600461066f565b61015a565b6040805192151583526020830191909152015b60405180910390f35b6100cb6100c63660046106b5565b6101b8565b005b5f546100df906001600160a01b031681565b6040516001600160a01b0390911681526020016100af565b6100cb6101053660046106d0565b6102ac565b6001546100df906001600160a01b031681565b61012660025481565b6040519081526020016100af565b6100cb6101423660046106b5565b610383565b6100cb6101553660046106e7565b505050565b5f80806101678486610724565b9050855f0361018457670de0b6b3a76400009150600192506101ae565b61019881670de0b6b3a7640000885f61042a565b91505f6101a58884610475565b60025410159350505b5094509492505050565b5f546001600160a01b031633148061024c575060015460405163b700961360e01b81523360048201523060248201525f356001600160e01b03191660448201526001600160a01b039091169063b700961390606401602060405180830381865afa158015610228573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061024c9190610737565b610254575f5ffd5b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03831690811790915560405133907fa3396fd7f6e0a21b50e5089d2da70d5ac0a3bbbd1f617a93f134b76389980198905f90a350565b6102c1335f356001600160e01b0319166104c6565b6103015760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064015b60405180910390fd5b67016345785d8a00008110610342576040517f5aede91d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60025460408051918252602082018390527f5b1f8430a1675242d4a0bdb976ee1c8740d114671db54660aba42fb46293e5dd910160405180910390a1600255565b610398335f356001600160e01b0319166104c6565b6103d35760405162461bcd60e51b815260206004820152600c60248201526b15539055551213d49256915160a21b60448201526064016102f8565b5f805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081178255604051909133917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b5f6104576104378361057b565b801561045257505f848061044d5761044d610756565b868809115b151590565b6104628686866105a7565b61046c9190610724565b95945050505050565b5f825f0361048457505f6104c0565b5f83831161049b57610496838561076a565b6104a5565b6104a5848461076a565b90506104bc81670de0b6b3a764000086600161042a565b9150505b92915050565b6001545f906001600160a01b0316801580159061055c575060405163b700961360e01b81526001600160a01b0385811660048301523060248301526001600160e01b03198516604483015282169063b700961390606401602060405180830381865afa158015610538573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061055c9190610737565b806104bc57505f546001600160a01b0385811691161491505092915050565b5f60028260038111156105905761059061077d565b61059a9190610791565b60ff166001149050919050565b5f838302815f1985870982811083820303915050805f036105db578382816105d1576105d1610756565b0492505050610657565b8084116105f2576105f2600385150260111861065e565b5f848688095f868103871696879004966002600389028118808a02820302808a02820302808a02820302808a02820302808a02820302808a02909103029181900381900460010186841190950394909402919094039290920491909117919091029150505b9392505050565b634e487b715f52806020526024601cfd5b5f5f5f5f60808587031215610682575f5ffd5b5050823594602084013594506040840135936060013592509050565b6001600160a01b03811681146106b2575f5ffd5b50565b5f602082840312156106c5575f5ffd5b81356106578161069e565b5f602082840312156106e0575f5ffd5b5035919050565b5f5f5f606084860312156106f9575f5ffd5b505081359360208301359350604090920135919050565b634e487b7160e01b5f52601160045260245ffd5b808201808211156104c0576104c0610710565b5f60208284031215610747575f5ffd5b81518015158114610657575f5ffd5b634e487b7160e01b5f52601260045260245ffd5b818103818111156104c0576104c0610710565b634e487b7160e01b5f52602160045260245ffd5b5f60ff8316806107af57634e487b7160e01b5f52601260045260245ffd5b8060ff8416069150509291505056fea164736f6c634300081c000a","sourceMap":"488:2314:66:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;958:795;;;;;;:::i;:::-;;:::i;:::-;;;;799:14:88;;792:22;774:41;;846:2;831:18;;824:34;;;;747:18;958:795:66;;;;;;;;1523:434:54;;;;;;:::i;:::-;;:::i;:::-;;562:20;;;;;-1:-1:-1;;;;;562:20:54;;;;;;-1:-1:-1;;;;;1485:55:88;;;1467:74;;1455:2;1440:18;562:20:54;1321:226:88;2139:289:66;;;;;;:::i;:::-;;:::i;589:26:54:-;;;;;-1:-1:-1;;;;;589:26:54;;;584:34:66;;;;;;;;;2179:25:88;;;2167:2;2152:18;584:34:66;2033:177:88;1963:164:54;;;;;;:::i;:::-;;:::i;1798:296:66:-;;;;;;:::i;:::-;;;;;958:795;1139:19;;;1242:33;1255:20;1242:10;:33;:::i;:::-;1220:55;;1331:11;1346:1;1331:16;1327:420;;655:4;1363:20;;1414:4;1397:21;;1327:420;;;1458:65;:11;655:4;1490:11;1503:19;1458:18;:65::i;:::-;1449:74;;1593:24;1620:46;1647:10;1659:6;1620:26;:46::i;:::-;1717:19;;-1:-1:-1;1697:39:66;;-1:-1:-1;;1327:420:66;1176:577;958:795;;;;;;;:::o;1523:434:54:-;1794:5;;-1:-1:-1;;;;;1794:5:54;1780:10;:19;;:76;;-1:-1:-1;1803:9:54;;:53;;-1:-1:-1;;;1803:53:54;;1821:10;1803:53;;;3468:74:88;1841:4:54;3558:18:88;;;3551:83;1803:9:54;1848:7;-1:-1:-1;;;;;;1848:7:54;3650:18:88;;;3643:107;-1:-1:-1;;;;;1803:9:54;;;;:17;;3441:18:88;;1803:53:54;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1772:85;;;;;;1868:9;:24;;-1:-1:-1;;1868:24:54;-1:-1:-1;;;;;1868:24:54;;;;;;;;1908:42;;1925:10;;1908:42;;-1:-1:-1;;1908:42:54;1523:434;:::o;2139:289:66:-;902:33:54;915:10;927:7;;-1:-1:-1;;;;;;927:7:54;902:12;:33::i;:::-;894:58;;;;-1:-1:-1;;;894:58:54;;4245:2:88;894:58:54;;;4227:21:88;4284:2;4264:18;;;4257:30;-1:-1:-1;;;4303:18:88;;;4296:42;4355:18;;894:58:54;;;;;;;;;709:4:66::1;2236:12;:39;2228:79;;;;;;;;;;;;;;;;;2343:19;::::0;2322:55:::1;::::0;;4558:25:88;;;4614:2;4599:18;;4592:34;;;2322:55:66::1;::::0;4531:18:88;2322:55:66::1;;;;;;;2387:19;:34:::0;2139:289::o;1963:164:54:-;902:33;915:10;927:7;;-1:-1:-1;;;;;;927:7:54;902:12;:33::i;:::-;894:58;;;;-1:-1:-1;;;894:58:54;;4245:2:88;894:58:54;;;4227:21:88;4284:2;4264:18;;;4257:30;-1:-1:-1;;;4303:18:88;;;4296:42;4355:18;;894:58:54;4043:336:88;894:58:54;2046:5:::1;:16:::0;;-1:-1:-1;;2046:16:54::1;-1:-1:-1::0;;;;;2046:16:54;::::1;::::0;;::::1;::::0;;2078:42:::1;::::0;2046:16;;2099:10:::1;::::0;2078:42:::1;::::0;2046:5;2078:42:::1;1963:164:::0;:::o;9351:238:28:-;9452:7;9506:76;9522:26;9539:8;9522:16;:26::i;:::-;:59;;;;;9580:1;9565:11;9552:25;;;;;:::i;:::-;9562:1;9559;9552:25;:29;9522:59;34914:9:29;34907:17;;34795:145;9506:76:28;9478:25;9485:1;9488;9491:11;9478:6;:25::i;:::-;:104;;;;:::i;:::-;9471:111;9351:238;-1:-1:-1;;;;;9351:238:28:o;2494:306:66:-;2588:7;2611:8;2623:1;2611:13;2607:27;;-1:-1:-1;2633:1:66;2626:8;;2607:27;2644:12;2670:8;2659;:19;:63;;2703:19;2714:8;2703;:19;:::i;:::-;2659:63;;;2681:19;2692:8;2681;:19;:::i;:::-;2644:78;-1:-1:-1;2739:54:66;2644:78;655:4;2764:8;2774:18;2739:11;:54::i;:::-;2732:61;;;2494:306;;;;;:::o;977:540:54:-;1097:9;;1064:4;;-1:-1:-1;;;;;1097:9:54;1415:27;;;;;:77;;-1:-1:-1;1446:46:54;;-1:-1:-1;;;1446:46:54;;-1:-1:-1;;;;;3486:55:88;;;1446:46:54;;;3468:74:88;1473:4:54;3558:18:88;;;3551:83;-1:-1:-1;;;;;;3670:79:88;;3650:18;;;3643:107;1446:12:54;;;;;3441:18:88;;1446:46:54;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1414:96;;;-1:-1:-1;1505:5:54;;-1:-1:-1;;;;;1497:13:54;;;1505:5;;1497:13;1407:103;;;977:540;;;;:::o;28183:122:28:-;28251:4;28292:1;28280:8;28274:15;;;;;;;;:::i;:::-;:19;;;;:::i;:::-;:24;;28297:1;28274:24;28267:31;;28183:122;;;:::o;4996:4226::-;5078:14;5449:5;;;5078:14;-1:-1:-1;;5453:1:28;5449;5621:20;5694:5;5690:2;5687:13;5679:5;5675:2;5671:14;5667:34;5658:43;;;5796:5;5805:1;5796:10;5792:368;;6134:11;6126:5;:19;;;;;:::i;:::-;;6119:26;;;;;;5792:368;6285:5;6270:11;:20;6266:143;;6310:84;3066:5;6330:16;;3065:36;940:4:25;3060:42:28;6310:11;:84::i;:::-;6664:17;6799:11;6796:1;6793;6786:25;7199:12;7229:15;;;7214:31;;7348:22;;;;;8094:1;8075;:15;;8074:21;;8327;;;8323:25;;8312:36;8397:21;;;8393:25;;8382:36;8469:21;;;8465:25;;8454:36;8540:21;;;8536:25;;8525:36;8613:21;;;8609:25;;8598:36;8687:21;;;8683:25;;;8672:36;7597:12;;;;7593:23;;;7618:1;7589:31;6913:20;;;6902:32;;;7709:12;;;;6960:21;;;;7446:16;;;;7700:21;;;;9163:15;;;;;-1:-1:-1;;4996:4226:28;;;;;;:::o;1776:194:25:-;1881:10;1875:4;1868:24;1918:4;1912;1905:18;1949:4;1943;1936:18;14:587:88;100:6;108;116;124;177:3;165:9;156:7;152:23;148:33;145:53;;;194:1;191;184:12;145:53;-1:-1:-1;;239:23:88;;;359:2;344:18;;331:32;;-1:-1:-1;462:2:88;447:18;;434:32;;565:2;550:18;537:32;;-1:-1:-1;14:587:88;-1:-1:-1;14:587:88:o;869:165::-;-1:-1:-1;;;;;959:5:88;955:54;948:5;945:65;935:93;;1024:1;1021;1014:12;935:93;869:165;:::o;1039:277::-;1117:6;1170:2;1158:9;1149:7;1145:23;1141:32;1138:52;;;1186:1;1183;1176:12;1138:52;1225:9;1212:23;1244:42;1280:5;1244:42;:::i;1552:226::-;1611:6;1664:2;1652:9;1643:7;1639:23;1635:32;1632:52;;;1680:1;1677;1670:12;1632:52;-1:-1:-1;1725:23:88;;1552:226;-1:-1:-1;1552:226:88:o;2478:466::-;2555:6;2563;2571;2624:2;2612:9;2603:7;2599:23;2595:32;2592:52;;;2640:1;2637;2630:12;2592:52;-1:-1:-1;;2685:23:88;;;2805:2;2790:18;;2777:32;;-1:-1:-1;2908:2:88;2893:18;;;2880:32;;2478:466;-1:-1:-1;2478:466:88:o;2949:184::-;-1:-1:-1;;;2998:1:88;2991:88;3098:4;3095:1;3088:15;3122:4;3119:1;3112:15;3138:125;3203:9;;;3224:10;;;3221:36;;;3237:18;;:::i;3761:277::-;3828:6;3881:2;3869:9;3860:7;3856:23;3852:32;3849:52;;;3897:1;3894;3887:12;3849:52;3929:9;3923:16;3982:5;3975:13;3968:21;3961:5;3958:32;3948:60;;4004:1;4001;3994:12;4637:184;-1:-1:-1;;;4686:1:88;4679:88;4786:4;4783:1;4776:15;4810:4;4807:1;4800:15;4826:128;4893:9;;;4914:11;;;4911:37;;;4928:18;;:::i;4959:184::-;-1:-1:-1;;;5008:1:88;5001:88;5108:4;5105:1;5098:15;5132:4;5129:1;5122:15;5148:311;5178:1;5212:4;5209:1;5205:12;5236:3;5226:191;;-1:-1:-1;;;5270:1:88;5263:88;5374:4;5371:1;5364:15;5402:4;5399:1;5392:15;5226:191;5449:3;5442:4;5439:1;5435:12;5431:22;5426:27;;;5148:311;;;;:::o","linkReferences":{}},"methodIdentifiers":{"afterBalanceUpdate(uint256,uint256,uint256)":"fcbde389","authority()":"bf7e214f","beforeBalanceUpdate(uint256,uint256,uint256,uint256)":"1faab223","maxPercentageChange()":"cfa40aed","owner()":"8da5cb5b","setAuthority(address)":"7a9e5e4b","transferOwnership(address)":"f2fde38b","updateMaxPercentageChange(uint256)":"95c5eaf5"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidMaxPercentage\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"contract Authority\",\"name\":\"newAuthority\",\"type\":\"address\"}],\"name\":\"AuthorityUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldMax\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newMax\",\"type\":\"uint256\"}],\"name\":\"MaxPercentageUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"afterBalanceUpdate\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"authority\",\"outputs\":[{\"internalType\":\"contract Authority\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentPPS\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"idleAssets\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newAggregatedBalance\",\"type\":\"uint256\"}],\"name\":\"beforeBalanceUpdate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"shouldContinue\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"newPPS\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"maxPercentageChange\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract Authority\",\"name\":\"newAuthority\",\"type\":\"address\"}],\"name\":\"setAuthority\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newThreshold\",\"type\":\"uint256\"}],\"name\":\"updateMaxPercentageChange\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Pure calculation helper - does not modify vault state\",\"kind\":\"dev\",\"methods\":{\"afterBalanceUpdate(uint256,uint256,uint256)\":{\"params\":{\"newBalance\":\"New aggregated balance\",\"newPPS\":\"New price per share\",\"oldBalance\":\"Previous aggregated balance\"}},\"beforeBalanceUpdate(uint256,uint256,uint256,uint256)\":{\"params\":{\"currentPPS\":\"Current price per share\",\"idleAssets\":\"Idle assets in vault\",\"newAggregatedBalance\":\"New aggregated balance from strategies\",\"totalSupply\":\"Total vault shares\"},\"returns\":{\"newPPS\":\"Calculated new price per share\",\"shouldContinue\":\"If false, update should be rejected and vault paused\"}},\"updateMaxPercentageChange(uint256)\":{\"params\":{\"newThreshold\":\"New max percentage change (1e18 = 100%)\"}}},\"title\":\"ManualBalanceUpdateHook\",\"version\":1},\"userdoc\":{\"errors\":{\"InvalidMaxPercentage()\":[{\"notice\":\"Thrown when the new max percentage is greater than the current max percentage.\"}]},\"kind\":\"user\",\"methods\":{\"afterBalanceUpdate(uint256,uint256,uint256)\":{\"notice\":\"Called after balance update completes (for future extensibility)\"},\"beforeBalanceUpdate(uint256,uint256,uint256,uint256)\":{\"notice\":\"Called before balance update to validate and calculate new PPS\"},\"maxPercentageChange()\":{\"notice\":\"Get current max percentage change threshold\"},\"updateMaxPercentageChange(uint256)\":{\"notice\":\"Update the maximum price change threshold\"}},\"notice\":\"Hook that validates balance updates based on price change thresholds\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/hooks/ManualBalanceUpdateHook.sol\":\"ManualBalanceUpdateHook\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@solmate/=node_modules/solmate/src/\",\":forge-std/=node_modules/forge-std/src/\",\":solmate/=node_modules/solmate/\"]},\"sources\":{\"node_modules/@openzeppelin/contracts/utils/Panic.sol\":{\"keccak256\":\"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a\",\"dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG\"]},\"node_modules/@openzeppelin/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d\",\"dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1\"]},\"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8\",\"dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy\"]},\"node_modules/solmate/src/auth/Auth.sol\":{\"keccak256\":\"0x6e05238d59cd40172c04c1974eb8f1f6cef4fdc4b6553ef7844a7302b885f76c\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://a9743c21ca0470d9082e4cf00aea53786868c977d40775e6954463658ebb50ac\",\"dweb:/ipfs/QmPFdyrLHUX1zSipTC2tcJ58EzxxPp2TTvCZx9KCgqZn2W\"]},\"src/hooks/ManualBalanceUpdateHook.sol\":{\"keccak256\":\"0x2754a8eaba4cfccc805e22b0ce6633aa8d07dcefacd2129cb1970c4fa8f2463b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bedfd3a20b1110053385967bc2141713a8b84f1f32973e5afc65a36134eb1488\",\"dweb:/ipfs/QmdYe3khHSJHVuikRaaBqExEsEzfY41rhTMTEMqYthpx1X\"]},\"src/interfaces/IBalanceUpdateHook.sol\":{\"keccak256\":\"0x86171480b2d7111d180f940e866f2b1ebfccbeb07bae09329d121d9c4815d52e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7e32aaf83d171193f5edf92f8e4c2c50de7b996e0b54dbdd909bedaea7761d4e\",\"dweb:/ipfs/QmaKy5DQJCd34avuCBQtJhx4Ez955dHC3Nr6PukqwXG7dG\"]},\"src/libraries/Errors.sol\":{\"keccak256\":\"0xae33ca9825182ac051757cb5a13c2ae47c0e24020a04c74989c316491d2dfe89\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e1a964fc49f09f36861c0061d27aabf0489e2fd4a9282a3871d0b338a0b38731\",\"dweb:/ipfs/QmaKRqJBicUmZd5EyX46Bct75HJePYRVZ6eobmP9smSMkm\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidMaxPercentage"},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"contract Authority","name":"newAuthority","type":"address","indexed":true}],"type":"event","name":"AuthorityUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldMax","type":"uint256","indexed":false},{"internalType":"uint256","name":"newMax","type":"uint256","indexed":false}],"type":"event","name":"MaxPercentageUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"afterBalanceUpdate"},{"inputs":[],"stateMutability":"view","type":"function","name":"authority","outputs":[{"internalType":"contract Authority","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"currentPPS","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"idleAssets","type":"uint256"},{"internalType":"uint256","name":"newAggregatedBalance","type":"uint256"}],"stateMutability":"view","type":"function","name":"beforeBalanceUpdate","outputs":[{"internalType":"bool","name":"shouldContinue","type":"bool"},{"internalType":"uint256","name":"newPPS","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"maxPercentageChange","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"contract Authority","name":"newAuthority","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setAuthority"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"newThreshold","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateMaxPercentageChange"}],"devdoc":{"kind":"dev","methods":{"afterBalanceUpdate(uint256,uint256,uint256)":{"params":{"newBalance":"New aggregated balance","newPPS":"New price per share","oldBalance":"Previous aggregated balance"}},"beforeBalanceUpdate(uint256,uint256,uint256,uint256)":{"params":{"currentPPS":"Current price per share","idleAssets":"Idle assets in vault","newAggregatedBalance":"New aggregated balance from strategies","totalSupply":"Total vault shares"},"returns":{"newPPS":"Calculated new price per share","shouldContinue":"If false, update should be rejected and vault paused"}},"updateMaxPercentageChange(uint256)":{"params":{"newThreshold":"New max percentage change (1e18 = 100%)"}}},"version":1},"userdoc":{"kind":"user","methods":{"afterBalanceUpdate(uint256,uint256,uint256)":{"notice":"Called after balance update completes (for future extensibility)"},"beforeBalanceUpdate(uint256,uint256,uint256,uint256)":{"notice":"Called before balance update to validate and calculate new PPS"},"maxPercentageChange()":{"notice":"Get current max percentage change threshold"},"updateMaxPercentageChange(uint256)":{"notice":"Update the maximum price change threshold"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@solmate/=node_modules/solmate/src/","forge-std/=node_modules/forge-std/src/","solmate/=node_modules/solmate/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"src/hooks/ManualBalanceUpdateHook.sol":"ManualBalanceUpdateHook"},"evmVersion":"shanghai","libraries":{}},"sources":{"node_modules/@openzeppelin/contracts/utils/Panic.sol":{"keccak256":"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a","urls":["bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a","dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/Math.sol":{"keccak256":"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea","urls":["bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d","dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/math/SafeCast.sol":{"keccak256":"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54","urls":["bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8","dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy"],"license":"MIT"},"node_modules/solmate/src/auth/Auth.sol":{"keccak256":"0x6e05238d59cd40172c04c1974eb8f1f6cef4fdc4b6553ef7844a7302b885f76c","urls":["bzz-raw://a9743c21ca0470d9082e4cf00aea53786868c977d40775e6954463658ebb50ac","dweb:/ipfs/QmPFdyrLHUX1zSipTC2tcJ58EzxxPp2TTvCZx9KCgqZn2W"],"license":"AGPL-3.0-only"},"src/hooks/ManualBalanceUpdateHook.sol":{"keccak256":"0x2754a8eaba4cfccc805e22b0ce6633aa8d07dcefacd2129cb1970c4fa8f2463b","urls":["bzz-raw://bedfd3a20b1110053385967bc2141713a8b84f1f32973e5afc65a36134eb1488","dweb:/ipfs/QmdYe3khHSJHVuikRaaBqExEsEzfY41rhTMTEMqYthpx1X"],"license":"MIT"},"src/interfaces/IBalanceUpdateHook.sol":{"keccak256":"0x86171480b2d7111d180f940e866f2b1ebfccbeb07bae09329d121d9c4815d52e","urls":["bzz-raw://7e32aaf83d171193f5edf92f8e4c2c50de7b996e0b54dbdd909bedaea7761d4e","dweb:/ipfs/QmaKy5DQJCd34avuCBQtJhx4Ez955dHC3Nr6PukqwXG7dG"],"license":"MIT"},"src/libraries/Errors.sol":{"keccak256":"0xae33ca9825182ac051757cb5a13c2ae47c0e24020a04c74989c316491d2dfe89","urls":["bzz-raw://e1a964fc49f09f36861c0061d27aabf0489e2fd4a9282a3871d0b338a0b38731","dweb:/ipfs/QmaKRqJBicUmZd5EyX46Bct75HJePYRVZ6eobmP9smSMkm"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[{"astId":48359,"contract":"src/hooks/ManualBalanceUpdateHook.sol:ManualBalanceUpdateHook","label":"owner","offset":0,"slot":"0","type":"t_address"},{"astId":48362,"contract":"src/hooks/ManualBalanceUpdateHook.sol:ManualBalanceUpdateHook","label":"authority","offset":0,"slot":"1","type":"t_contract(Authority)48513"},{"astId":51921,"contract":"src/hooks/ManualBalanceUpdateHook.sol:ManualBalanceUpdateHook","label":"maxPercentageChange","offset":0,"slot":"2","type":"t_uint256"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_contract(Authority)48513":{"encoding":"inplace","label":"contract Authority","numberOfBytes":"20"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"ast":{"absolutePath":"src/hooks/ManualBalanceUpdateHook.sol","id":52092,"exportedSymbols":{"Auth":[48500],"Authority":[48513],"Errors":[52425],"IBalanceUpdateHook":[52133],"ManualBalanceUpdateHook":[52091],"Math":[6118]},"nodeType":"SourceUnit","src":"32:2771:66","nodes":[{"id":51902,"nodeType":"PragmaDirective","src":"32:23:66","nodes":[],"literals":["solidity","0.8",".28"]},{"id":51904,"nodeType":"ImportDirective","src":"57:49:66","nodes":[],"absolutePath":"src/libraries/Errors.sol","file":"../libraries/Errors.sol","nameLocation":"-1:-1:-1","scope":52092,"sourceUnit":52426,"symbolAliases":[{"foreign":{"id":51903,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52425,"src":"66:6:66","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":51906,"nodeType":"ImportDirective","src":"107:74:66","nodes":[],"absolutePath":"src/interfaces/IBalanceUpdateHook.sol","file":"../interfaces/IBalanceUpdateHook.sol","nameLocation":"-1:-1:-1","scope":52092,"sourceUnit":52134,"symbolAliases":[{"foreign":{"id":51905,"name":"IBalanceUpdateHook","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52133,"src":"116:18:66","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":51909,"nodeType":"ImportDirective","src":"182:57:66","nodes":[],"absolutePath":"node_modules/solmate/src/auth/Auth.sol","file":"@solmate/auth/Auth.sol","nameLocation":"-1:-1:-1","scope":52092,"sourceUnit":48514,"symbolAliases":[{"foreign":{"id":51907,"name":"Auth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48500,"src":"191:4:66","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":51908,"name":"Authority","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48513,"src":"197:9:66","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":51911,"nodeType":"ImportDirective","src":"240:67:66","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/utils/math/Math.sol","file":"@openzeppelin/contracts/utils/math/Math.sol","nameLocation":"-1:-1:-1","scope":52092,"sourceUnit":6119,"symbolAliases":[{"foreign":{"id":51910,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6118,"src":"249:4:66","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":52091,"nodeType":"ContractDefinition","src":"488:2314:66","nodes":[{"id":51919,"nodeType":"UsingForDirective","src":"555:23:66","nodes":[],"global":false,"libraryName":{"id":51917,"name":"Math","nameLocations":["561:4:66"],"nodeType":"IdentifierPath","referencedDeclaration":6118,"src":"561:4:66"},"typeName":{"id":51918,"name":"uint256","nodeType":"ElementaryTypeName","src":"570:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":51921,"nodeType":"VariableDeclaration","src":"584:34:66","nodes":[],"baseFunctions":[52132],"constant":false,"functionSelector":"cfa40aed","mutability":"mutable","name":"maxPercentageChange","nameLocation":"599:19:66","scope":52091,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51920,"name":"uint256","nodeType":"ElementaryTypeName","src":"584:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":51924,"nodeType":"VariableDeclaration","src":"624:35:66","nodes":[],"constant":true,"mutability":"constant","name":"DENOMINATOR","nameLocation":"641:11:66","scope":52091,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51922,"name":"uint256","nodeType":"ElementaryTypeName","src":"624:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":51923,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"655:4:66","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"internal"},{"id":51927,"nodeType":"VariableDeclaration","src":"665:48:66","nodes":[],"constant":true,"mutability":"constant","name":"MAX_PERCENTAGE_THRESHOLD","nameLocation":"682:24:66","scope":52091,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51925,"name":"uint256","nodeType":"ElementaryTypeName","src":"665:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653137","id":51926,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"709:4:66","typeDescriptions":{"typeIdentifier":"t_rational_100000000000000000_by_1","typeString":"int_const 100000000000000000"},"value":"1e17"},"visibility":"internal"},{"id":51933,"nodeType":"EventDefinition","src":"727:59:66","nodes":[],"anonymous":false,"eventSelector":"5b1f8430a1675242d4a0bdb976ee1c8740d114671db54660aba42fb46293e5dd","name":"MaxPercentageUpdated","nameLocation":"733:20:66","parameters":{"id":51932,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51929,"indexed":false,"mutability":"mutable","name":"oldMax","nameLocation":"762:6:66","nodeType":"VariableDeclaration","scope":51933,"src":"754:14:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51928,"name":"uint256","nodeType":"ElementaryTypeName","src":"754:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51931,"indexed":false,"mutability":"mutable","name":"newMax","nameLocation":"778:6:66","nodeType":"VariableDeclaration","scope":51933,"src":"770:14:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51930,"name":"uint256","nodeType":"ElementaryTypeName","src":"770:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"753:32:66"}},{"id":51952,"nodeType":"FunctionDefinition","src":"792:121:66","nodes":[],"body":{"id":51951,"nodeType":"Block","src":"856:57:66","nodes":[],"statements":[{"expression":{"id":51949,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51947,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51921,"src":"866:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31653136","id":51948,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"888:4:66","typeDescriptions":{"typeIdentifier":"t_rational_10000000000000000_by_1","typeString":"int_const 10000000000000000"},"value":"1e16"},"src":"866:26:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51950,"nodeType":"ExpressionStatement","src":"866:26:66"}]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[{"id":51938,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51935,"src":"825:6:66","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"arguments":[{"hexValue":"30","id":51942,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"851:1:66","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":51941,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"843:7:66","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":51940,"name":"address","nodeType":"ElementaryTypeName","src":"843:7:66","typeDescriptions":{}}},"id":51943,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"843:10:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":51939,"name":"Authority","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48513,"src":"833:9:66","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Authority_$48513_$","typeString":"type(contract Authority)"}},"id":51944,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"833:21:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_Authority_$48513","typeString":"contract Authority"}}],"id":51945,"kind":"baseConstructorSpecifier","modifierName":{"id":51937,"name":"Auth","nameLocations":["820:4:66"],"nodeType":"IdentifierPath","referencedDeclaration":48500,"src":"820:4:66"},"nodeType":"ModifierInvocation","src":"820:35:66"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":51936,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51935,"mutability":"mutable","name":"_owner","nameLocation":"812:6:66","nodeType":"VariableDeclaration","scope":51952,"src":"804:14:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51934,"name":"address","nodeType":"ElementaryTypeName","src":"804:7:66","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"803:16:66"},"returnParameters":{"id":51946,"nodeType":"ParameterList","parameters":[],"src":"856:0:66"},"scope":52091,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":52013,"nodeType":"FunctionDefinition","src":"958:795:66","nodes":[],"body":{"id":52012,"nodeType":"Block","src":"1176:577:66","nodes":[],"statements":[{"assignments":[51969],"declarations":[{"constant":false,"id":51969,"mutability":"mutable","name":"totalAssets","nameLocation":"1228:11:66","nodeType":"VariableDeclaration","scope":52012,"src":"1220:19:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51968,"name":"uint256","nodeType":"ElementaryTypeName","src":"1220:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":51973,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51970,"name":"idleAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51959,"src":"1242:10:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":51971,"name":"newAggregatedBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51961,"src":"1255:20:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1242:33:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1220:55:66"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":51976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51974,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51957,"src":"1331:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":51975,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1346:1:66","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1331:16:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52010,"nodeType":"Block","src":"1435:312:66","statements":[{"expression":{"id":51995,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51986,"name":"newPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51966,"src":"1449:6:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":51989,"name":"DENOMINATOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51924,"src":"1477:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":51990,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51957,"src":"1490:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":51991,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6118,"src":"1503:4:66","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$6118_$","typeString":"type(library Math)"}},"id":51992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1508:8:66","memberName":"Rounding","nodeType":"MemberAccess","referencedDeclaration":4524,"src":"1503:13:66","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Rounding_$4524_$","typeString":"type(enum Math.Rounding)"}},"id":51993,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1517:5:66","memberName":"Floor","nodeType":"MemberAccess","referencedDeclaration":4520,"src":"1503:19:66","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$4524","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$4524","typeString":"enum Math.Rounding"}],"expression":{"id":51987,"name":"totalAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51969,"src":"1458:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1470:6:66","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":4985,"src":"1458:18:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$4524_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":51994,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1458:65:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1449:74:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51996,"nodeType":"ExpressionStatement","src":"1449:74:66"},{"assignments":[51998],"declarations":[{"constant":false,"id":51998,"mutability":"mutable","name":"percentageChange","nameLocation":"1601:16:66","nodeType":"VariableDeclaration","scope":52010,"src":"1593:24:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51997,"name":"uint256","nodeType":"ElementaryTypeName","src":"1593:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52003,"initialValue":{"arguments":[{"id":52000,"name":"currentPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51955,"src":"1647:10:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52001,"name":"newPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51966,"src":"1659:6:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":51999,"name":"_calculatePercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52090,"src":"1620:26:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":52002,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1620:46:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1593:73:66"},{"expression":{"id":52008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52004,"name":"shouldContinue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51964,"src":"1680:14:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52007,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52005,"name":"percentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51998,"src":"1697:16:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":52006,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51921,"src":"1717:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1697:39:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1680:56:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52009,"nodeType":"ExpressionStatement","src":"1680:56:66"}]},"id":52011,"nodeType":"IfStatement","src":"1327:420:66","trueBody":{"id":51985,"nodeType":"Block","src":"1349:80:66","statements":[{"expression":{"id":51979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51977,"name":"newPPS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51966,"src":"1363:6:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":51978,"name":"DENOMINATOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51924,"src":"1372:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1363:20:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51980,"nodeType":"ExpressionStatement","src":"1363:20:66"},{"expression":{"id":51983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":51981,"name":"shouldContinue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51964,"src":"1397:14:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":51982,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1414:4:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1397:21:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":51984,"nodeType":"ExpressionStatement","src":"1397:21:66"}]}}]},"baseFunctions":[52110],"documentation":{"id":51953,"nodeType":"StructuredDocumentation","src":"919:34:66","text":"@inheritdoc IBalanceUpdateHook"},"functionSelector":"1faab223","implemented":true,"kind":"function","modifiers":[],"name":"beforeBalanceUpdate","nameLocation":"967:19:66","parameters":{"id":51962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51955,"mutability":"mutable","name":"currentPPS","nameLocation":"1004:10:66","nodeType":"VariableDeclaration","scope":52013,"src":"996:18:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51954,"name":"uint256","nodeType":"ElementaryTypeName","src":"996:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51957,"mutability":"mutable","name":"totalSupply","nameLocation":"1032:11:66","nodeType":"VariableDeclaration","scope":52013,"src":"1024:19:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51956,"name":"uint256","nodeType":"ElementaryTypeName","src":"1024:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51959,"mutability":"mutable","name":"idleAssets","nameLocation":"1061:10:66","nodeType":"VariableDeclaration","scope":52013,"src":"1053:18:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51958,"name":"uint256","nodeType":"ElementaryTypeName","src":"1053:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51961,"mutability":"mutable","name":"newAggregatedBalance","nameLocation":"1089:20:66","nodeType":"VariableDeclaration","scope":52013,"src":"1081:28:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51960,"name":"uint256","nodeType":"ElementaryTypeName","src":"1081:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"986:129:66"},"returnParameters":{"id":51967,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51964,"mutability":"mutable","name":"shouldContinue","nameLocation":"1144:14:66","nodeType":"VariableDeclaration","scope":52013,"src":"1139:19:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51963,"name":"bool","nodeType":"ElementaryTypeName","src":"1139:4:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51966,"mutability":"mutable","name":"newPPS","nameLocation":"1168:6:66","nodeType":"VariableDeclaration","scope":52013,"src":"1160:14:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51965,"name":"uint256","nodeType":"ElementaryTypeName","src":"1160:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1138:37:66"},"scope":52091,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":52024,"nodeType":"FunctionDefinition","src":"1798:296:66","nodes":[],"body":{"id":52023,"nodeType":"Block","src":"1944:150:66","nodes":[],"statements":[]},"baseFunctions":[52120],"documentation":{"id":52014,"nodeType":"StructuredDocumentation","src":"1759:34:66","text":"@inheritdoc IBalanceUpdateHook"},"functionSelector":"fcbde389","implemented":true,"kind":"function","modifiers":[],"name":"afterBalanceUpdate","nameLocation":"1807:18:66","parameters":{"id":52021,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52016,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52024,"src":"1835:7:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52015,"name":"uint256","nodeType":"ElementaryTypeName","src":"1835:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52018,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52024,"src":"1869:7:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52017,"name":"uint256","nodeType":"ElementaryTypeName","src":"1869:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52020,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52024,"src":"1903:7:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52019,"name":"uint256","nodeType":"ElementaryTypeName","src":"1903:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1825:104:66"},"returnParameters":{"id":52022,"nodeType":"ParameterList","parameters":[],"src":"1944:0:66"},"scope":52091,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":52051,"nodeType":"FunctionDefinition","src":"2139:289:66","nodes":[],"body":{"id":52050,"nodeType":"Block","src":"2218:210:66","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52033,"name":"newThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52027,"src":"2236:12:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":52034,"name":"MAX_PERCENTAGE_THRESHOLD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51927,"src":"2251:24:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2236:39:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":52036,"name":"Errors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52425,"src":"2277:6:66","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Errors_$52425_$","typeString":"type(library Errors)"}},"id":52037,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2284:20:66","memberName":"InvalidMaxPercentage","nodeType":"MemberAccess","referencedDeclaration":52406,"src":"2277:27:66","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":52038,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2277:29:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_error","typeString":"error"}],"id":52032,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"2228:7:66","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_error_$returns$__$","typeString":"function (bool,error) pure"}},"id":52039,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2228:79:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52040,"nodeType":"ExpressionStatement","src":"2228:79:66"},{"eventCall":{"arguments":[{"id":52042,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51921,"src":"2343:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52043,"name":"newThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52027,"src":"2364:12:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52041,"name":"MaxPercentageUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51933,"src":"2322:20:66","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":52044,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2322:55:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52045,"nodeType":"EmitStatement","src":"2317:60:66"},{"expression":{"id":52048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52046,"name":"maxPercentageChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51921,"src":"2387:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52047,"name":"newThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52027,"src":"2409:12:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2387:34:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52049,"nodeType":"ExpressionStatement","src":"2387:34:66"}]},"baseFunctions":[52126],"documentation":{"id":52025,"nodeType":"StructuredDocumentation","src":"2100:34:66","text":"@inheritdoc IBalanceUpdateHook"},"functionSelector":"95c5eaf5","implemented":true,"kind":"function","modifiers":[{"id":52030,"kind":"modifierInvocation","modifierName":{"id":52029,"name":"requiresAuth","nameLocations":["2205:12:66"],"nodeType":"IdentifierPath","referencedDeclaration":48405,"src":"2205:12:66"},"nodeType":"ModifierInvocation","src":"2205:12:66"}],"name":"updateMaxPercentageChange","nameLocation":"2148:25:66","parameters":{"id":52028,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52027,"mutability":"mutable","name":"newThreshold","nameLocation":"2182:12:66","nodeType":"VariableDeclaration","scope":52051,"src":"2174:20:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52026,"name":"uint256","nodeType":"ElementaryTypeName","src":"2174:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2173:22:66"},"returnParameters":{"id":52031,"nodeType":"ParameterList","parameters":[],"src":"2218:0:66"},"scope":52091,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":52090,"nodeType":"FunctionDefinition","src":"2494:306:66","nodes":[],"body":{"id":52089,"nodeType":"Block","src":"2597:203:66","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52061,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52054,"src":"2611:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52062,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2623:1:66","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2611:13:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52066,"nodeType":"IfStatement","src":"2607:27:66","trueBody":{"expression":{"hexValue":"30","id":52064,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2633:1:66","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":52060,"id":52065,"nodeType":"Return","src":"2626:8:66"}},{"assignments":[52068],"declarations":[{"constant":false,"id":52068,"mutability":"mutable","name":"diff","nameLocation":"2652:4:66","nodeType":"VariableDeclaration","scope":52089,"src":"2644:12:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52067,"name":"uint256","nodeType":"ElementaryTypeName","src":"2644:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52079,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52071,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52069,"name":"newPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52056,"src":"2659:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52070,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52054,"src":"2670:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2659:19:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52077,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52075,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52054,"src":"2703:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52076,"name":"newPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52056,"src":"2714:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2703:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2659:63:66","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52074,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52072,"name":"newPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52056,"src":"2681:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52073,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52054,"src":"2692:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2681:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2644:78:66"},{"expression":{"arguments":[{"id":52082,"name":"DENOMINATOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51924,"src":"2751:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52083,"name":"oldPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52054,"src":"2764:8:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":52084,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6118,"src":"2774:4:66","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$6118_$","typeString":"type(library Math)"}},"id":52085,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2779:8:66","memberName":"Rounding","nodeType":"MemberAccess","referencedDeclaration":4524,"src":"2774:13:66","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Rounding_$4524_$","typeString":"type(enum Math.Rounding)"}},"id":52086,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2788:4:66","memberName":"Ceil","nodeType":"MemberAccess","referencedDeclaration":4521,"src":"2774:18:66","typeDescriptions":{"typeIdentifier":"t_enum$_Rounding_$4524","typeString":"enum Math.Rounding"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_Rounding_$4524","typeString":"enum Math.Rounding"}],"expression":{"id":52080,"name":"diff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52068,"src":"2739:4:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52081,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2744:6:66","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":4985,"src":"2739:11:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_enum$_Rounding_$4524_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256,enum Math.Rounding) pure returns (uint256)"}},"id":52087,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2739:54:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52060,"id":52088,"nodeType":"Return","src":"2732:61:66"}]},"documentation":{"id":52052,"nodeType":"StructuredDocumentation","src":"2434:55:66","text":"@dev Calculate percentage change between two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"_calculatePercentageChange","nameLocation":"2503:26:66","parameters":{"id":52057,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52054,"mutability":"mutable","name":"oldPrice","nameLocation":"2538:8:66","nodeType":"VariableDeclaration","scope":52090,"src":"2530:16:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52053,"name":"uint256","nodeType":"ElementaryTypeName","src":"2530:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52056,"mutability":"mutable","name":"newPrice","nameLocation":"2556:8:66","nodeType":"VariableDeclaration","scope":52090,"src":"2548:16:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52055,"name":"uint256","nodeType":"ElementaryTypeName","src":"2548:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2529:36:66"},"returnParameters":{"id":52060,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52059,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52090,"src":"2588:7:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52058,"name":"uint256","nodeType":"ElementaryTypeName","src":"2588:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2587:9:66"},"scope":52091,"stateMutability":"pure","virtual":false,"visibility":"private"}],"abstract":false,"baseContracts":[{"baseName":{"id":51913,"name":"IBalanceUpdateHook","nameLocations":["524:18:66"],"nodeType":"IdentifierPath","referencedDeclaration":52133,"src":"524:18:66"},"id":51914,"nodeType":"InheritanceSpecifier","src":"524:18:66"},{"baseName":{"id":51915,"name":"Auth","nameLocations":["544:4:66"],"nodeType":"IdentifierPath","referencedDeclaration":48500,"src":"544:4:66"},"id":51916,"nodeType":"InheritanceSpecifier","src":"544:4:66"}],"canonicalName":"ManualBalanceUpdateHook","contractDependencies":[],"contractKind":"contract","documentation":{"id":51912,"nodeType":"StructuredDocumentation","src":"309:179:66","text":"@title ManualBalanceUpdateHook\n @notice Hook that validates balance updates based on price change thresholds\n @dev Pure calculation helper - does not modify vault state"},"fullyImplemented":true,"linearizedBaseContracts":[52091,48500,52133],"name":"ManualBalanceUpdateHook","nameLocation":"497:23:66","scope":52092,"usedErrors":[52406],"usedEvents":[48350,48357,51933]}],"license":"MIT"},"id":66}