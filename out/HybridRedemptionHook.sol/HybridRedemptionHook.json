{"abi":[{"type":"function","name":"afterRedeem","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"beforeRedeem","inputs":[{"name":"vault","type":"address","internalType":"contract IElitraVault"},{"name":"","type":"uint256","internalType":"uint256"},{"name":"assets","type":"uint256","internalType":"uint256"},{"name":"","type":"address","internalType":"address"},{"name":"receiver","type":"address","internalType":"address"}],"outputs":[{"name":"mode","type":"uint8","internalType":"enum RedemptionMode"},{"name":"actualAssets","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"event","name":"RedemptionProcessed","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"receiver","type":"address","indexed":true,"internalType":"address"},{"name":"mode","type":"uint8","indexed":false,"internalType":"enum RedemptionMode"},{"name":"assets","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b506102c28061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610034575f3560e01c806351eda43e1461003857806390c70bf514610062575b5f5ffd5b61004b6100463660046101b5565b610078565b604051610059929190610210565b60405180910390f35b610076610070366004610253565b50505050565b005b5f5f5f876001600160a01b031663809dab6a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156100b7573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100db919061029e565b905085811061013d57836001600160a01b0316886001600160a01b03167f6aa103898b1b0777b6e755a0900055be94448f510cb61f3f5ad168806f45a5015f89604051610129929190610210565b60405180910390a35f869250925050610194565b836001600160a01b0316886001600160a01b03167f6aa103898b1b0777b6e755a0900055be94448f510cb61f3f5ad168806f45a501600189604051610183929190610210565b60405180910390a360018692509250505b9550959350505050565b6001600160a01b03811681146101b2575f5ffd5b50565b5f5f5f5f5f60a086880312156101c9575f5ffd5b85356101d48161019e565b9450602086013593506040860135925060608601356101f28161019e565b915060808601356102028161019e565b809150509295509295909350565b6040810160028410610249577f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b9281526020015290565b5f5f5f5f60808587031215610266575f5ffd5b84356102718161019e565b9350602085013592506040850135915060608501358015158114610293575f5ffd5b939692955090935050565b5f602082840312156102ae575f5ffd5b505191905056fea164736f6c634300081c000a","sourceMap":"310:1261:44:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610034575f3560e01c806351eda43e1461003857806390c70bf514610062575b5f5ffd5b61004b6100463660046101b5565b610078565b604051610059929190610210565b60405180910390f35b610076610070366004610253565b50505050565b005b5f5f5f876001600160a01b031663809dab6a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156100b7573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906100db919061029e565b905085811061013d57836001600160a01b0316886001600160a01b03167f6aa103898b1b0777b6e755a0900055be94448f510cb61f3f5ad168806f45a5015f89604051610129929190610210565b60405180910390a35f869250925050610194565b836001600160a01b0316886001600160a01b03167f6aa103898b1b0777b6e755a0900055be94448f510cb61f3f5ad168806f45a501600189604051610183929190610210565b60405180910390a360018692509250505b9550959350505050565b6001600160a01b03811681146101b2575f5ffd5b50565b5f5f5f5f5f60a086880312156101c9575f5ffd5b85356101d48161019e565b9450602086013593506040860135925060608601356101f28161019e565b915060808601356102028161019e565b809150509295509295909350565b6040810160028410610249577f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b9281526020015290565b5f5f5f5f60808587031215610266575f5ffd5b84356102718161019e565b9350602085013592506040850135915060608501358015158114610293575f5ffd5b939692955090935050565b5f602082840312156102ae575f5ffd5b505191905056fea164736f6c634300081c000a","sourceMap":"310:1261:44:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;557:663;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;1262:307;;;;;;:::i;:::-;;;;;;;;557:663;740:19;761:20;793:24;820:5;-1:-1:-1;;;;;820:25:44;;:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;793:54;;882:6;862:16;:26;858:356;;945:8;-1:-1:-1;;;;;909:77:44;937:5;-1:-1:-1;;;;;909:77:44;;955:22;979:6;909:77;;;;;;;:::i;:::-;;;;;;;;1008:22;1032:6;1000:39;;;;;;;858:356;1111:8;-1:-1:-1;;;;;1075:76:44;1103:5;-1:-1:-1;;;;;1075:76:44;;1121:21;1144:6;1075:76;;;;;;;:::i;:::-;;;;;;;;1173:21;1196:6;1165:38;;;;;557:663;;;;;;;;;:::o;14:168:51:-;-1:-1:-1;;;;;107:5:51;103:54;96:5;93:65;83:93;;172:1;169;162:12;83:93;14:168;:::o;187:835::-;304:6;312;320;328;336;389:3;377:9;368:7;364:23;360:33;357:53;;;406:1;403;396:12;357:53;445:9;432:23;464:45;503:5;464:45;:::i;:::-;528:5;-1:-1:-1;606:2:51;591:18;;578:32;;-1:-1:-1;709:2:51;694:18;;681:32;;-1:-1:-1;791:2:51;776:18;;763:32;804:47;763:32;804:47;:::i;:::-;870:7;-1:-1:-1;929:3:51;914:19;;901:33;943:47;901:33;943:47;:::i;:::-;1009:7;999:17;;;187:835;;;;;;;;:::o;1027:476::-;1207:2;1192:18;;1240:1;1229:13;;1219:201;;1276:77;1273:1;1266:88;1377:4;1374:1;1367:15;1405:4;1402:1;1395:15;1219:201;1429:25;;;1485:2;1470:18;1463:34;1027:476;:::o;1508:671::-;1591:6;1599;1607;1615;1668:3;1656:9;1647:7;1643:23;1639:33;1636:53;;;1685:1;1682;1675:12;1636:53;1724:9;1711:23;1743:45;1782:5;1743:45;:::i;:::-;1807:5;-1:-1:-1;1885:2:51;1870:18;;1857:32;;-1:-1:-1;1988:2:51;1973:18;;1960:32;;-1:-1:-1;2070:2:51;2055:18;;2042:32;2112:15;;2105:23;2093:36;;2083:64;;2143:1;2140;2133:12;2083:64;1508:671;;;;-1:-1:-1;1508:671:51;;-1:-1:-1;;1508:671:51:o;2184:184::-;2254:6;2307:2;2295:9;2286:7;2282:23;2278:32;2275:52;;;2323:1;2320;2313:12;2275:52;-1:-1:-1;2346:16:51;;2184:184;-1:-1:-1;2184:184:51:o","linkReferences":{}},"methodIdentifiers":{"afterRedeem(address,uint256,uint256,bool)":"90c70bf5","beforeRedeem(address,uint256,uint256,address,address)":"51eda43e"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"enum RedemptionMode\",\"name\":\"mode\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"assets\",\"type\":\"uint256\"}],\"name\":\"RedemptionProcessed\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"name\":\"afterRedeem\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IElitraVault\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"assets\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"beforeRedeem\",\"outputs\":[{\"internalType\":\"enum RedemptionMode\",\"name\":\"mode\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"actualAssets\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"afterRedeem(address,uint256,uint256,bool)\":{\"params\":{\"assets\":\"Amount of assets withdrawn\",\"instant\":\"Whether it was instant or queued\",\"receiver\":\"Receiver of assets\",\"shares\":\"Amount of shares redeemed\"}},\"beforeRedeem(address,uint256,uint256,address,address)\":{\"params\":{\"assets\":\"Equivalent assets for those shares\",\"owner\":\"Owner of the shares\",\"receiver\":\"Receiver of assets\",\"shares\":\"Amount of shares to redeem\",\"vault\":\"The vault processing the redemption\"},\"returns\":{\"actualAssets\":\"Assets to withdraw (may differ due to strategy rules)\",\"mode\":\"INSTANT or QUEUED\"}}},\"title\":\"HybridRedemptionHook\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"afterRedeem(address,uint256,uint256,bool)\":{\"notice\":\"Called after redemption completes (for future extensibility)\"},\"beforeRedeem(address,uint256,uint256,address,address)\":{\"notice\":\"Called before redemption to determine mode and validate\"}},\"notice\":\"Redemption hook: instant if liquidity available, else queue\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/hooks/HybridRedemptionHook.sol\":\"HybridRedemptionHook\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@solmate/=node_modules/solmate/src/\",\":forge-std/=node_modules/forge-std/src/\",\":solmate/=node_modules/solmate/\"]},\"sources\":{\"node_modules/@openzeppelin/contracts/interfaces/IERC4626.sol\":{\"keccak256\":\"0x666c704c58d4cf404eecd6e4a898a87e25b00b45416678de914e160582c3ff17\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6def3cc823ae3f155da28a241a8ff91538222053ed9d78f415758a9133e211a1\",\"dweb:/ipfs/QmSriniszojh4UP4WQqxCJhq2XsbCAULcB4qRij4EYw9Gi\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\":{\"keccak256\":\"0x70f2f713b13b7ce4610bcd0ac9fec0f3cc43693b043abcb8dc40a42a726eb330\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c13d13304ac79a83ab1c30168967d19e2203342ebbd6a9bbce4db7550522dcbf\",\"dweb:/ipfs/QmeN5jKMN2vw5bhacr6tkg78afbTTZUeaacNHqjWt4Ew1r\"]},\"src/hooks/HybridRedemptionHook.sol\":{\"keccak256\":\"0x1dc9caedc666fc298126752fb5f378a085e3261fd5fcd38a75d14aec825cb722\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a84fac27adec8fd0c1dfa113da7381245fbc8c0400adbe096881f8af27c11999\",\"dweb:/ipfs/QmRwRk7F8hQjGzuViXsDT6QYPXEeukrbt5xVKD3yjjrqEy\"]},\"src/interfaces/IBalanceUpdateHook.sol\":{\"keccak256\":\"0x86171480b2d7111d180f940e866f2b1ebfccbeb07bae09329d121d9c4815d52e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7e32aaf83d171193f5edf92f8e4c2c50de7b996e0b54dbdd909bedaea7761d4e\",\"dweb:/ipfs/QmaKy5DQJCd34avuCBQtJhx4Ez955dHC3Nr6PukqwXG7dG\"]},\"src/interfaces/IElitraVault.sol\":{\"keccak256\":\"0xc216554842bf90914afd20893f0bfe35706c5e889e93e518e1c5433cd6cba788\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8a0daf258b1bf3ae1ef29b102277fc35914392c4972a12e9aa09d8dfe19c25fb\",\"dweb:/ipfs/QmbccRXoeSeNjeuqtLEZ1JMw24pNnyxFJkEG2N5Qngm617\"]},\"src/interfaces/IRedemptionHook.sol\":{\"keccak256\":\"0xe35327d79c274ca0567d8012eff40f6205f91d8c342affa6cf24a40d3b029cb7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f20563f81e8617ed0da8dbaa89f232abfc8b1dc5d22aa6475da51c520311220\",\"dweb:/ipfs/QmTNnLmCouYZJLCRNf9kdkDmDq8sUV6iELa3jwkMm8E4jG\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"address","name":"receiver","type":"address","indexed":true},{"internalType":"enum RedemptionMode","name":"mode","type":"uint8","indexed":false},{"internalType":"uint256","name":"assets","type":"uint256","indexed":false}],"type":"event","name":"RedemptionProcessed","anonymous":false},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"afterRedeem"},{"inputs":[{"internalType":"contract IElitraVault","name":"vault","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"assets","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"receiver","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"beforeRedeem","outputs":[{"internalType":"enum RedemptionMode","name":"mode","type":"uint8"},{"internalType":"uint256","name":"actualAssets","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"afterRedeem(address,uint256,uint256,bool)":{"params":{"assets":"Amount of assets withdrawn","instant":"Whether it was instant or queued","receiver":"Receiver of assets","shares":"Amount of shares redeemed"}},"beforeRedeem(address,uint256,uint256,address,address)":{"params":{"assets":"Equivalent assets for those shares","owner":"Owner of the shares","receiver":"Receiver of assets","shares":"Amount of shares to redeem","vault":"The vault processing the redemption"},"returns":{"actualAssets":"Assets to withdraw (may differ due to strategy rules)","mode":"INSTANT or QUEUED"}}},"version":1},"userdoc":{"kind":"user","methods":{"afterRedeem(address,uint256,uint256,bool)":{"notice":"Called after redemption completes (for future extensibility)"},"beforeRedeem(address,uint256,uint256,address,address)":{"notice":"Called before redemption to determine mode and validate"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@solmate/=node_modules/solmate/src/","forge-std/=node_modules/forge-std/src/","solmate/=node_modules/solmate/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"src/hooks/HybridRedemptionHook.sol":"HybridRedemptionHook"},"evmVersion":"shanghai","libraries":{}},"sources":{"node_modules/@openzeppelin/contracts/interfaces/IERC4626.sol":{"keccak256":"0x666c704c58d4cf404eecd6e4a898a87e25b00b45416678de914e160582c3ff17","urls":["bzz-raw://6def3cc823ae3f155da28a241a8ff91538222053ed9d78f415758a9133e211a1","dweb:/ipfs/QmSriniszojh4UP4WQqxCJhq2XsbCAULcB4qRij4EYw9Gi"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol":{"keccak256":"0x70f2f713b13b7ce4610bcd0ac9fec0f3cc43693b043abcb8dc40a42a726eb330","urls":["bzz-raw://c13d13304ac79a83ab1c30168967d19e2203342ebbd6a9bbce4db7550522dcbf","dweb:/ipfs/QmeN5jKMN2vw5bhacr6tkg78afbTTZUeaacNHqjWt4Ew1r"],"license":"MIT"},"src/hooks/HybridRedemptionHook.sol":{"keccak256":"0x1dc9caedc666fc298126752fb5f378a085e3261fd5fcd38a75d14aec825cb722","urls":["bzz-raw://a84fac27adec8fd0c1dfa113da7381245fbc8c0400adbe096881f8af27c11999","dweb:/ipfs/QmRwRk7F8hQjGzuViXsDT6QYPXEeukrbt5xVKD3yjjrqEy"],"license":"MIT"},"src/interfaces/IBalanceUpdateHook.sol":{"keccak256":"0x86171480b2d7111d180f940e866f2b1ebfccbeb07bae09329d121d9c4815d52e","urls":["bzz-raw://7e32aaf83d171193f5edf92f8e4c2c50de7b996e0b54dbdd909bedaea7761d4e","dweb:/ipfs/QmaKy5DQJCd34avuCBQtJhx4Ez955dHC3Nr6PukqwXG7dG"],"license":"MIT"},"src/interfaces/IElitraVault.sol":{"keccak256":"0xc216554842bf90914afd20893f0bfe35706c5e889e93e518e1c5433cd6cba788","urls":["bzz-raw://8a0daf258b1bf3ae1ef29b102277fc35914392c4972a12e9aa09d8dfe19c25fb","dweb:/ipfs/QmbccRXoeSeNjeuqtLEZ1JMw24pNnyxFJkEG2N5Qngm617"],"license":"MIT"},"src/interfaces/IRedemptionHook.sol":{"keccak256":"0xe35327d79c274ca0567d8012eff40f6205f91d8c342affa6cf24a40d3b029cb7","urls":["bzz-raw://3f20563f81e8617ed0da8dbaa89f232abfc8b1dc5d22aa6475da51c520311220","dweb:/ipfs/QmTNnLmCouYZJLCRNf9kdkDmDq8sUV6iELa3jwkMm8E4jG"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"src/hooks/HybridRedemptionHook.sol","id":45189,"exportedSymbols":{"HybridRedemptionHook":[45188],"IElitraVault":[45607],"IRedemptionHook":[45649],"RedemptionMode":[45615]},"nodeType":"SourceUnit","src":"32:1540:44","nodes":[{"id":45090,"nodeType":"PragmaDirective","src":"32:23:44","nodes":[],"literals":["solidity","0.8",".28"]},{"id":45093,"nodeType":"ImportDirective","src":"57:84:44","nodes":[],"absolutePath":"src/interfaces/IRedemptionHook.sol","file":"../interfaces/IRedemptionHook.sol","nameLocation":"-1:-1:-1","scope":45189,"sourceUnit":45650,"symbolAliases":[{"foreign":{"id":45091,"name":"IRedemptionHook","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45649,"src":"66:15:44","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":45092,"name":"RedemptionMode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45615,"src":"83:14:44","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45095,"nodeType":"ImportDirective","src":"142:62:44","nodes":[],"absolutePath":"src/interfaces/IElitraVault.sol","file":"../interfaces/IElitraVault.sol","nameLocation":"-1:-1:-1","scope":45189,"sourceUnit":45608,"symbolAliases":[{"foreign":{"id":45094,"name":"IElitraVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45607,"src":"151:12:44","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45188,"nodeType":"ContractDefinition","src":"310:1261:44","nodes":[{"id":45109,"nodeType":"EventDefinition","src":"365:150:44","nodes":[],"anonymous":false,"eventSelector":"6aa103898b1b0777b6e755a0900055be94448f510cb61f3f5ad168806f45a501","name":"RedemptionProcessed","nameLocation":"371:19:44","parameters":{"id":45108,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45100,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"416:5:44","nodeType":"VariableDeclaration","scope":45109,"src":"400:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45099,"name":"address","nodeType":"ElementaryTypeName","src":"400:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45102,"indexed":true,"mutability":"mutable","name":"receiver","nameLocation":"447:8:44","nodeType":"VariableDeclaration","scope":45109,"src":"431:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45101,"name":"address","nodeType":"ElementaryTypeName","src":"431:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45105,"indexed":false,"mutability":"mutable","name":"mode","nameLocation":"480:4:44","nodeType":"VariableDeclaration","scope":45109,"src":"465:19:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"},"typeName":{"id":45104,"nodeType":"UserDefinedTypeName","pathNode":{"id":45103,"name":"RedemptionMode","nameLocations":["465:14:44"],"nodeType":"IdentifierPath","referencedDeclaration":45615,"src":"465:14:44"},"referencedDeclaration":45615,"src":"465:14:44","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"}},"visibility":"internal"},{"constant":false,"id":45107,"indexed":false,"mutability":"mutable","name":"assets","nameLocation":"502:6:44","nodeType":"VariableDeclaration","scope":45109,"src":"494:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45106,"name":"uint256","nodeType":"ElementaryTypeName","src":"494:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"390:124:44"}},{"id":45174,"nodeType":"FunctionDefinition","src":"557:663:44","nodes":[],"body":{"id":45173,"nodeType":"Block","src":"783:437:44","nodes":[],"statements":[{"assignments":[45130],"declarations":[{"constant":false,"id":45130,"mutability":"mutable","name":"availableBalance","nameLocation":"801:16:44","nodeType":"VariableDeclaration","scope":45173,"src":"793:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45129,"name":"uint256","nodeType":"ElementaryTypeName","src":"793:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":45134,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":45131,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45113,"src":"820:5:44","typeDescriptions":{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"}},"id":45132,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"826:19:44","memberName":"getAvailableBalance","nodeType":"MemberAccess","referencedDeclaration":45551,"src":"820:25:44","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":45133,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"820:27:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"793:54:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45137,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45135,"name":"availableBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45130,"src":"862:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":45136,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45117,"src":"882:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"862:26:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":45171,"nodeType":"Block","src":"1056:158:44","statements":[{"eventCall":{"arguments":[{"arguments":[{"id":45158,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45113,"src":"1103:5:44","typeDescriptions":{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"}],"id":45157,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1095:7:44","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":45156,"name":"address","nodeType":"ElementaryTypeName","src":"1095:7:44","typeDescriptions":{}}},"id":45159,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1095:14:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":45160,"name":"receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45121,"src":"1111:8:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":45161,"name":"RedemptionMode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45615,"src":"1121:14:44","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RedemptionMode_$45615_$","typeString":"type(enum RedemptionMode)"}},"id":45162,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1136:6:44","memberName":"QUEUED","nodeType":"MemberAccess","referencedDeclaration":45614,"src":"1121:21:44","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"}},{"id":45163,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45117,"src":"1144:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45155,"name":"RedemptionProcessed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45109,"src":"1075:19:44","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_enum$_RedemptionMode_$45615_$_t_uint256_$returns$__$","typeString":"function (address,address,enum RedemptionMode,uint256)"}},"id":45164,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1075:76:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45165,"nodeType":"EmitStatement","src":"1070:81:44"},{"expression":{"components":[{"expression":{"id":45166,"name":"RedemptionMode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45615,"src":"1173:14:44","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RedemptionMode_$45615_$","typeString":"type(enum RedemptionMode)"}},"id":45167,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1188:6:44","memberName":"QUEUED","nodeType":"MemberAccess","referencedDeclaration":45614,"src":"1173:21:44","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"}},{"id":45168,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45117,"src":"1196:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45169,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1172:31:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_enum$_RedemptionMode_$45615_$_t_uint256_$","typeString":"tuple(enum RedemptionMode,uint256)"}},"functionReturnParameters":45128,"id":45170,"nodeType":"Return","src":"1165:38:44"}]},"id":45172,"nodeType":"IfStatement","src":"858:356:44","trueBody":{"id":45154,"nodeType":"Block","src":"890:160:44","statements":[{"eventCall":{"arguments":[{"arguments":[{"id":45141,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45113,"src":"937:5:44","typeDescriptions":{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"}],"id":45140,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"929:7:44","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":45139,"name":"address","nodeType":"ElementaryTypeName","src":"929:7:44","typeDescriptions":{}}},"id":45142,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"929:14:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":45143,"name":"receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45121,"src":"945:8:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":45144,"name":"RedemptionMode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45615,"src":"955:14:44","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RedemptionMode_$45615_$","typeString":"type(enum RedemptionMode)"}},"id":45145,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"970:7:44","memberName":"INSTANT","nodeType":"MemberAccess","referencedDeclaration":45613,"src":"955:22:44","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"}},{"id":45146,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45117,"src":"979:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45138,"name":"RedemptionProcessed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45109,"src":"909:19:44","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_enum$_RedemptionMode_$45615_$_t_uint256_$returns$__$","typeString":"function (address,address,enum RedemptionMode,uint256)"}},"id":45147,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"909:77:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45148,"nodeType":"EmitStatement","src":"904:82:44"},{"expression":{"components":[{"expression":{"id":45149,"name":"RedemptionMode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45615,"src":"1008:14:44","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RedemptionMode_$45615_$","typeString":"type(enum RedemptionMode)"}},"id":45150,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1023:7:44","memberName":"INSTANT","nodeType":"MemberAccess","referencedDeclaration":45613,"src":"1008:22:44","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"}},{"id":45151,"name":"assets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45117,"src":"1032:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":45152,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1007:32:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_enum$_RedemptionMode_$45615_$_t_uint256_$","typeString":"tuple(enum RedemptionMode,uint256)"}},"functionReturnParameters":45128,"id":45153,"nodeType":"Return","src":"1000:39:44"}]}}]},"baseFunctions":[45636],"documentation":{"id":45110,"nodeType":"StructuredDocumentation","src":"521:31:44","text":"@inheritdoc IRedemptionHook"},"functionSelector":"51eda43e","implemented":true,"kind":"function","modifiers":[],"name":"beforeRedeem","nameLocation":"566:12:44","parameters":{"id":45122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45113,"mutability":"mutable","name":"vault","nameLocation":"601:5:44","nodeType":"VariableDeclaration","scope":45174,"src":"588:18:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"},"typeName":{"id":45112,"nodeType":"UserDefinedTypeName","pathNode":{"id":45111,"name":"IElitraVault","nameLocations":["588:12:44"],"nodeType":"IdentifierPath","referencedDeclaration":45607,"src":"588:12:44"},"referencedDeclaration":45607,"src":"588:12:44","typeDescriptions":{"typeIdentifier":"t_contract$_IElitraVault_$45607","typeString":"contract IElitraVault"}},"visibility":"internal"},{"constant":false,"id":45115,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45174,"src":"616:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45114,"name":"uint256","nodeType":"ElementaryTypeName","src":"616:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45117,"mutability":"mutable","name":"assets","nameLocation":"654:6:44","nodeType":"VariableDeclaration","scope":45174,"src":"646:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45116,"name":"uint256","nodeType":"ElementaryTypeName","src":"646:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45119,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45174,"src":"670:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45118,"name":"address","nodeType":"ElementaryTypeName","src":"670:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45121,"mutability":"mutable","name":"receiver","nameLocation":"707:8:44","nodeType":"VariableDeclaration","scope":45174,"src":"699:16:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45120,"name":"address","nodeType":"ElementaryTypeName","src":"699:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"578:143:44"},"returnParameters":{"id":45128,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45125,"mutability":"mutable","name":"mode","nameLocation":"755:4:44","nodeType":"VariableDeclaration","scope":45174,"src":"740:19:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"},"typeName":{"id":45124,"nodeType":"UserDefinedTypeName","pathNode":{"id":45123,"name":"RedemptionMode","nameLocations":["740:14:44"],"nodeType":"IdentifierPath","referencedDeclaration":45615,"src":"740:14:44"},"referencedDeclaration":45615,"src":"740:14:44","typeDescriptions":{"typeIdentifier":"t_enum$_RedemptionMode_$45615","typeString":"enum RedemptionMode"}},"visibility":"internal"},{"constant":false,"id":45127,"mutability":"mutable","name":"actualAssets","nameLocation":"769:12:44","nodeType":"VariableDeclaration","scope":45174,"src":"761:20:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45126,"name":"uint256","nodeType":"ElementaryTypeName","src":"761:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"739:43:44"},"scope":45188,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":45187,"nodeType":"FunctionDefinition","src":"1262:307:44","nodes":[],"body":{"id":45186,"nodeType":"Block","src":"1418:151:44","nodes":[],"statements":[]},"baseFunctions":[45648],"documentation":{"id":45175,"nodeType":"StructuredDocumentation","src":"1226:31:44","text":"@inheritdoc IRedemptionHook"},"functionSelector":"90c70bf5","implemented":true,"kind":"function","modifiers":[],"name":"afterRedeem","nameLocation":"1271:11:44","parameters":{"id":45184,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45177,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45187,"src":"1292:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":45176,"name":"address","nodeType":"ElementaryTypeName","src":"1292:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":45179,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45187,"src":"1324:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45178,"name":"uint256","nodeType":"ElementaryTypeName","src":"1324:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45181,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45187,"src":"1354:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45180,"name":"uint256","nodeType":"ElementaryTypeName","src":"1354:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":45183,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45187,"src":"1384:4:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":45182,"name":"bool","nodeType":"ElementaryTypeName","src":"1384:4:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1282:126:44"},"returnParameters":{"id":45185,"nodeType":"ParameterList","parameters":[],"src":"1418:0:44"},"scope":45188,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":45097,"name":"IRedemptionHook","nameLocations":["343:15:44"],"nodeType":"IdentifierPath","referencedDeclaration":45649,"src":"343:15:44"},"id":45098,"nodeType":"InheritanceSpecifier","src":"343:15:44"}],"canonicalName":"HybridRedemptionHook","contractDependencies":[],"contractKind":"contract","documentation":{"id":45096,"nodeType":"StructuredDocumentation","src":"206:104:44","text":"@title HybridRedemptionHook\n @notice Redemption hook: instant if liquidity available, else queue"},"fullyImplemented":true,"linearizedBaseContracts":[45188,45649],"name":"HybridRedemptionHook","nameLocation":"319:20:44","scope":45189,"usedErrors":[],"usedEvents":[45109]}],"license":"MIT"},"id":44}